
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>PROYEK SAINS DATA PREDIKSI PRODUKSI PADI KOTA SURABAYA MENGGUNAKAN DATA CUACA UNTUK MENSTABILKAN KETAHANAN PANGAN &#8212; PSD-Tugas Akhir</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Project1';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="PROYEK SAINS DATA PREDIKSI EMISI CO2 PER TAHUN NEGARA INDONESIA BERDASARKAN POLA WAKTU" href="Project2.html" />
    <link rel="prev" title="Tugas Akir Proyek Sains Data" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/portofolio.png" class="logo__image only-light" alt="PSD-Tugas Akhir - Home"/>
    <script>document.write(`<img src="_static/portofolio.png" class="logo__image only-dark" alt="PSD-Tugas Akhir - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Tugas Akir Proyek Sains Data
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">PROYEK SAINS DATA PREDIKSI PRODUKSI PADI KOTA SURABAYA MENGGUNAKAN DATA CUACA UNTUK MENSTABILKAN KETAHANAN PANGAN</a></li>








<li class="toctree-l1"><a class="reference internal" href="Project2.html">PROYEK SAINS DATA PREDIKSI EMISI CO2 PER TAHUN NEGARA INDONESIA BERDASARKAN POLA WAKTU</a></li>







<li class="toctree-l1"><a class="reference internal" href="Project3.html">PROYEK SAINS DATA PREDIKSI DETAK JANTUNG UNTUK DETEKSI DINI KEGAGALAN JANTUNG PASIEN KOGNESTIF BERAT</a></li>








</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FProject1.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Project1.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>PROYEK SAINS DATA PREDIKSI PRODUKSI PADI KOTA SURABAYA MENGGUNAKAN DATA CUACA UNTUK MENSTABILKAN KETAHANAN PANGAN</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">PROYEK SAINS DATA PREDIKSI PRODUKSI PADI KOTA SURABAYA MENGGUNAKAN DATA CUACA UNTUK MENSTABILKAN KETAHANAN PANGAN</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bisnis-understanding">Bisnis Understanding</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pendahuluan">1. Pendahuluan</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rumusan-masalah">2. Rumusan Masalah</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tujuan-dan-manfaat">3. Tujuan dan Manfaat</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pembahasan">Pembahasan</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-collecting">Data Collecting</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-data-iklim">Read Data Iklim</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding">Data Understanding</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualiasi-data-iklim">Visualiasi Data iklim</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#missing-value-pada-data-iklim">Missing value pada data iklim</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prepocessing-dini-data-fitur">Prepocessing dini data fitur</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mencari-outlier-pada-data-fitur">Mencari Outlier Pada data fitur</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rerata-dan-modus">Rerata dan Modus</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-untuk-target">Data untuk Target</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#penggabungan-data-fitur-dan-data-object">Penggabungan data fitur dan data object</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-main">Data Main</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#seleksi-fitur-berdasarkan-korelasi">Seleksi fitur berdasarkan korelasi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi-data">Normalisasi data</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-modelling">Data Modelling</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#persiapan-data-train-dan-data-test">Persiapan data Train dan data Test</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model">Model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random-forest-regressor">1. Random Forest Regressor</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#linear-regression">2. Linear Regression</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lstm">3. LSTM</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ensemble-bagging">4. Ensemble Bagging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan">Kesimpulan</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dikarenakan-keterbatasan-data-untuk-prediksi-maka-model-mengalami-overfitting-dan-tidak-bisa-memprediksi-dengan-akurasi-tinggi">Dikarenakan keterbatasan data untuk prediksi, maka model mengalami overfitting dan tidak bisa memprediksi dengan akurasi tinggi</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deployement">Deployement</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#website">Website</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="proyek-sains-data-prediksi-produksi-padi-kota-surabaya-menggunakan-data-cuaca-untuk-menstabilkan-ketahanan-pangan">
<h1>PROYEK SAINS DATA PREDIKSI PRODUKSI PADI KOTA SURABAYA MENGGUNAKAN DATA CUACA UNTUK MENSTABILKAN KETAHANAN PANGAN<a class="headerlink" href="#proyek-sains-data-prediksi-produksi-padi-kota-surabaya-menggunakan-data-cuaca-untuk-menstabilkan-ketahanan-pangan" title="Link to this heading">#</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="bisnis-understanding">
<h1>Bisnis Understanding<a class="headerlink" href="#bisnis-understanding" title="Link to this heading">#</a></h1>
<section id="pendahuluan">
<h2>1. Pendahuluan<a class="headerlink" href="#pendahuluan" title="Link to this heading">#</a></h2>
<p>Dinas ketahanan pangan dan pertanian kota surabaya dengan visi “Gotong Royong Menuju Surabaya Kota Dunia yang Maju, Humanis dan Berkelanjutan”, memiliki misi untuk mendorong terwujudnya ketersediaan dan pola konsumsi pangan yang beragam, bergizi, seimbang dan aman, tentu memiliki banyak tantangan dalam menjaga ketahanan pangan salah satunya masalah produksi.</p>
<p>Aspek ketersediaan pangan berkaitan erat dengan jumlah penduduk di suatu wilayah. Dengan karakteristik wilayah perkotaan yang memiliki penduduk dengan jumlah tinggi dan sektor basis perekonomian berada pada industri dan perdagangan, maka ketergantungan akan distribusi pangan di suatu kota dari daerah disekitarnya sangat tinggi. Kota Surabaya sudah selayaknya memiliki pengaturan ketersediaan pangan tidak hanya berkaitan dengan efisiensi pemanfaatan lahan perkarangan atau sejenisnya namun juga pengaturan distribusi pangan dan kelembagaan yang ada di masyarakat. Berdasarkan data Badan Pusat Statistik Kota Surabaya tahun 2022, disebutkan bahwa jumlah penduduk Kota Surabaya Tahun 2021 sebesar 2,88 juta jiwa dengan laju pertumbuhan sebesar 0,28%. Sementara Pola penggunaan lahan didominasi oleh Kawasan Industri sebesar 9,88%, Kawasan Perumahan dan permukiman, perdagangan dan jasa dll.</p>
<p>Berdasarkan data Pewali Kota surabaya tahun 2023, produksi pangan utama di daerah surabaya berdasarkan data dari tahun 2018- 2023 dicantumkan bahwa tanaman pangan utama yang tersedia di kota surabaya yaitu padi dan jagung, Sementara tantangan yang dihadapi kota surabaya adalah lahan pertanian yang dari tahun ke tahun semakin menyusut dikarenakan banyaknya pembangunan infrastruktur.</p>
<p>Dalam produksi padi, perubahan iklim menjadi salah satu tantangan utama, Fenomena cuaca ekstrem seperti peningkatan suhu, perubahan pola curah hujan, dan durasi penyinaran matahari berdampak pada siklus pertanian dan produktivitas padi, sehingga penentuan musim tanam yang tepat menjadi langkah penting dalam menghadapi perubahan iklim ini, penentuan musim tanam yang tepat menjadi langkah penting dalam menghadapi perubahan iklim ini, Namun, mayoritas petani belum memanfaatkan kalender tanam yang disarankan pemerintah, melainkan lebih mengandalkan pengalaman pribadi untuk menentukan waktu tanam,</p>
<p>Fenomena kerusakan tanaman padi akibat perubahan iklim menunjukkan adanya penentuan waktu penanaman padi yang tepat sehingga produksi padi tetap stabil dan tidak terjadi penurunan produksi yang mengakibatkan ketahanan pangan daerah surabaya menurun.</p>
<p>Pada penelitian ini peneliti lebih membahas pada bidang Data mining. Data mining sendiri merupakan bidang berkembang dari Machine Learning(ML) yang berfokus pada pemanfaatan program untuk membantu manusia belajar dari data, untuk menghasilkan “insight” dari data yang ada sehingga dapat mendatangkan pengetahuan baru.</p>
<p>Percobaan yang dilakukan peneliti adalah dengan melakukan analisis cuaca sebagai estimasi produksi padi, dari latar belakang diatas muncullah ide tentang penggunaan metode prediksi data mining dengan menggunakan library “skicit learn” untuk mengatasi masalah produksi padi.</p>
</section>
<section id="rumusan-masalah">
<h2>2. Rumusan Masalah<a class="headerlink" href="#rumusan-masalah" title="Link to this heading">#</a></h2>
<p>Berdasarkan data dari “Badan Pusat Statistic Nasional” provinsi jawa timur, kota surabaya menjadi kota dengan produksi beras terbawah untuk provinsi jawa timur pada 5 tahun terakhir, sedangkan sumber produksi pangan utama untuk daerah surabaya yaitu padi, yang menyebabkan ketahanan pangan surabaya menurun</p>
</section>
<section id="tujuan-dan-manfaat">
<h2>3. Tujuan dan Manfaat<a class="headerlink" href="#tujuan-dan-manfaat" title="Link to this heading">#</a></h2>
<p>Adapun tujuan dari proyek sains data ini sebagai berikut :</p>
<ol class="arabic simple">
<li><p>Menerapkan model prediksi berbasis data mining untuk membantu pemerintah kota surabaya dalam optimalisasi produksi padi</p></li>
</ol>
<p>Manfaat dari proyek sains data ini yaitu :</p>
<ol class="arabic simple">
<li><p>Dengan prediksi yang akurat, pemerintah surabaya dapat mengalokasikan anggaran secara lebih efektif untuk program-program pertanian, seperti penyediaan bibit unggul, pupuk subsidi, atau pembangunan infrastruktur pertanian.</p></li>
<li><p>Prediksi dapat membantu pemerintah surabaya mengantisipasi potensi krisis pangan akibat gagal panen atau penurunan produksi.</p></li>
<li><p>Dengan data prediksi, pemerintah dapat menjaga stabilitas pasokan pangan, sehingga harga pangan daerah surabaya dapat terkendali.</p></li>
</ol>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="pembahasan">
<h1>Pembahasan<a class="headerlink" href="#pembahasan" title="Link to this heading">#</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="data-collecting">
<h1>Data Collecting<a class="headerlink" href="#data-collecting" title="Link to this heading">#</a></h1>
<section id="read-data-iklim">
<h2>Read Data Iklim<a class="headerlink" href="#read-data-iklim" title="Link to this heading">#</a></h2>
<p>disini data iklim secara harian diambil dari data open source BMKG untuk dijadikan seleksi fitur dalam memprediksi produksi beras</p>
<p>saya mengambil data tersebut dikelompokkan berdasarkan tahun terlebih dahulu , lalu dari data excel dibaca dan disatukan ke satu dataframe</p>
<p>data iklim harian ini nanti akan saya jadikan dalam format bulanan untuk mengimbangi data target yang berformat bulanan</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> <span class="c1"># type: ignore</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># Folder data</span>
<span class="n">folders</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;./2018/&#39;</span><span class="p">,</span> <span class="s1">&#39;./2019/&#39;</span><span class="p">,</span> <span class="s1">&#39;./2020/&#39;</span><span class="p">,</span> <span class="s1">&#39;./2021/&#39;</span><span class="p">,</span> <span class="s1">&#39;./2022/&#39;</span><span class="p">,</span> <span class="s1">&#39;./2023/&#39;</span><span class="p">]</span>
<span class="n">data_frames</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">folder_path</span> <span class="ow">in</span> <span class="n">folders</span><span class="p">:</span>
    <span class="n">file_paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="s1">&#39;*.xlsx&#39;</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">file_paths</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">,</span> <span class="s1">&#39;Tn&#39;</span><span class="p">,</span> <span class="s1">&#39;Tx&#39;</span><span class="p">,</span> <span class="s1">&#39;Tavg&#39;</span><span class="p">,</span> <span class="s1">&#39;RH_avg&#39;</span><span class="p">,</span> <span class="s1">&#39;RR&#39;</span><span class="p">,</span> <span class="s1">&#39;ss&#39;</span><span class="p">,</span> <span class="s1">&#39;ff_x&#39;</span><span class="p">,</span> <span class="s1">&#39;ff_avg&#39;</span><span class="p">,</span> <span class="s1">&#39;ddd_car&#39;</span><span class="p">]]</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">-%m-%Y&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
        <span class="n">data_frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>


<span class="n">combined_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">data_frames</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">combined_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">combined_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="nn">File ~\AppData\Local\Programs\Python\Python310\lib\site-packages\pandas\compat\_optional.py:135,</span> in <span class="ni">import_optional_dependency</span><span class="nt">(name, extra, errors, min_version)</span>
<span class="g g-Whitespace">    </span><span class="mi">134</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">135</span>     <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">136</span> <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>

<span class="nn">File ~\AppData\Local\Programs\Python\Python310\lib\importlib\__init__.py:126,</span> in <span class="ni">import_module</span><span class="nt">(name, package)</span>
<span class="g g-Whitespace">    </span><span class="mi">125</span>         <span class="n">level</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="ne">--&gt; </span><span class="mi">126</span> <span class="k">return</span> <span class="n">_bootstrap</span><span class="o">.</span><span class="n">_gcd_import</span><span class="p">(</span><span class="n">name</span><span class="p">[</span><span class="n">level</span><span class="p">:],</span> <span class="n">package</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>

<span class="nn">File &lt;frozen importlib._bootstrap&gt;:1050,</span> in <span class="ni">_gcd_import</span><span class="nt">(name, package, level)</span>

<span class="nn">File &lt;frozen importlib._bootstrap&gt;:1027,</span> in <span class="ni">_find_and_load</span><span class="nt">(name, import_)</span>

<span class="nn">File &lt;frozen importlib._bootstrap&gt;:1004,</span> in <span class="ni">_find_and_load_unlocked</span><span class="nt">(name, import_)</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;openpyxl&#39;

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">ImportError</span><span class="g g-Whitespace">                               </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">11</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="n">file_paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="s1">&#39;*.xlsx&#39;</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">file_paths</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">11</span>     <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span>     <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">,</span> <span class="s1">&#39;Tn&#39;</span><span class="p">,</span> <span class="s1">&#39;Tx&#39;</span><span class="p">,</span> <span class="s1">&#39;Tavg&#39;</span><span class="p">,</span> <span class="s1">&#39;RH_avg&#39;</span><span class="p">,</span> <span class="s1">&#39;RR&#39;</span><span class="p">,</span> <span class="s1">&#39;ss&#39;</span><span class="p">,</span> <span class="s1">&#39;ff_x&#39;</span><span class="p">,</span> <span class="s1">&#39;ff_avg&#39;</span><span class="p">,</span> <span class="s1">&#39;ddd_car&#39;</span><span class="p">]]</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span>     <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">-%m-%Y&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

<span class="nn">File ~\AppData\Local\Programs\Python\Python310\lib\site-packages\pandas\io\excel\_base.py:495,</span> in <span class="ni">read_excel</span><span class="nt">(io, sheet_name, header, names, index_col, usecols, dtype, engine, converters, true_values, false_values, skiprows, nrows, na_values, keep_default_na, na_filter, verbose, parse_dates, date_parser, date_format, thousands, decimal, comment, skipfooter, storage_options, dtype_backend, engine_kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">493</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">io</span><span class="p">,</span> <span class="n">ExcelFile</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">494</span>     <span class="n">should_close</span> <span class="o">=</span> <span class="kc">True</span>
<span class="ne">--&gt; </span><span class="mi">495</span>     <span class="n">io</span> <span class="o">=</span> <span class="n">ExcelFile</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">496</span>         <span class="n">io</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">497</span>         <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">498</span>         <span class="n">engine</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">499</span>         <span class="n">engine_kwargs</span><span class="o">=</span><span class="n">engine_kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">500</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">501</span> <span class="k">elif</span> <span class="n">engine</span> <span class="ow">and</span> <span class="n">engine</span> <span class="o">!=</span> <span class="n">io</span><span class="o">.</span><span class="n">engine</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">502</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">503</span>         <span class="s2">&quot;Engine should not be specified when passing &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">504</span>         <span class="s2">&quot;an ExcelFile - ExcelFile already has the engine set&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">505</span>     <span class="p">)</span>

<span class="nn">File ~\AppData\Local\Programs\Python\Python310\lib\site-packages\pandas\io\excel\_base.py:1567,</span> in <span class="ni">ExcelFile.__init__</span><span class="nt">(self, path_or_buffer, engine, storage_options, engine_kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">1564</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">engine</span>
<span class="g g-Whitespace">   </span><span class="mi">1565</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage_options</span> <span class="o">=</span> <span class="n">storage_options</span>
<span class="ne">-&gt; </span><span class="mi">1567</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reader</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engines</span><span class="p">[</span><span class="n">engine</span><span class="p">](</span>
<span class="g g-Whitespace">   </span><span class="mi">1568</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_io</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1569</span>     <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1570</span>     <span class="n">engine_kwargs</span><span class="o">=</span><span class="n">engine_kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1571</span> <span class="p">)</span>

<span class="nn">File ~\AppData\Local\Programs\Python\Python310\lib\site-packages\pandas\io\excel\_openpyxl.py:552,</span> in <span class="ni">OpenpyxlReader.__init__</span><span class="nt">(self, filepath_or_buffer, storage_options, engine_kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">534</span> <span class="nd">@doc</span><span class="p">(</span><span class="n">storage_options</span><span class="o">=</span><span class="n">_shared_docs</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">])</span>
<span class="g g-Whitespace">    </span><span class="mi">535</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">536</span>     <span class="bp">self</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">539</span>     <span class="n">engine_kwargs</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">540</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">541</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">542</span><span class="sd">     Reader using openpyxl engine.</span>
<span class="g g-Whitespace">    </span><span class="mi">543</span><span class="sd"> </span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">    </span><span class="mi">550</span><span class="sd">         Arbitrary keyword arguments passed to excel engine.</span>
<span class="g g-Whitespace">    </span><span class="mi">551</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">552</span>     <span class="n">import_optional_dependency</span><span class="p">(</span><span class="s2">&quot;openpyxl&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">553</span>     <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">554</span>         <span class="n">filepath_or_buffer</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">555</span>         <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">556</span>         <span class="n">engine_kwargs</span><span class="o">=</span><span class="n">engine_kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">557</span>     <span class="p">)</span>

<span class="nn">File ~\AppData\Local\Programs\Python\Python310\lib\site-packages\pandas\compat\_optional.py:138,</span> in <span class="ni">import_optional_dependency</span><span class="nt">(name, extra, errors, min_version)</span>
<span class="g g-Whitespace">    </span><span class="mi">136</span> <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">137</span>     <span class="k">if</span> <span class="n">errors</span> <span class="o">==</span> <span class="s2">&quot;raise&quot;</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">138</span>         <span class="k">raise</span> <span class="ne">ImportError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">139</span>     <span class="k">return</span> <span class="kc">None</span>
<span class="g g-Whitespace">    </span><span class="mi">141</span> <span class="c1"># Handle submodules: if we have submodule, grab parent module from sys.modules</span>

<span class="ne">ImportError</span>: Missing optional dependency &#39;openpyxl&#39;.  Use pip or conda to install openpyxl.
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="data-understanding">
<h1>Data Understanding<a class="headerlink" href="#data-understanding" title="Link to this heading">#</a></h1>
<p>bisa dilihat data diatas adalah data harian dari 6 tahun sebanyak 2231 data</p>
<p>disini ada data ddd_car yaitu arah angin, saya mencoba melihat apakah ini akan dibutuhkan, karena termasuk data kategorical</p>
<p>disini juga di data ada data 8888 dan 999 dimana didalam website bmkg dijelaskan bahwa data 8888 itu data tidak bisa diambil, dan 999 itu data kosong (tidak diambil) maka saya akan mengubah data tersebut menjadi NAN</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> <span class="c1"># type: ignore</span>
<span class="n">combined_df</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="mi">9999</span><span class="p">,</span> <span class="mi">8888</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="visualiasi-data-iklim">
<h2>Visualiasi Data iklim<a class="headerlink" href="#visualiasi-data-iklim" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span> <span class="c1"># type: ignore</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> <span class="c1"># type: ignore</span>


<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">combined_df</span><span class="p">[[</span><span class="s1">&#39;Tn&#39;</span><span class="p">,</span> <span class="s1">&#39;Tx&#39;</span><span class="p">,</span> <span class="s1">&#39;Tavg&#39;</span><span class="p">,</span> <span class="s1">&#39;RH_avg&#39;</span><span class="p">,</span> <span class="s1">&#39;RR&#39;</span><span class="p">,</span> <span class="s1">&#39;ss&#39;</span><span class="p">,</span> <span class="s1">&#39;ff_x&#39;</span><span class="p">,</span> <span class="s1">&#39;ff_avg&#39;</span><span class="p">]])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Time Series Data for Multiple Variables&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Tanggal&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Tn&#39;</span><span class="p">,</span> <span class="s1">&#39;Tx&#39;</span><span class="p">,</span> <span class="s1">&#39;Tavg&#39;</span><span class="p">,</span> <span class="s1">&#39;RH_avg&#39;</span><span class="p">,</span> <span class="s1">&#39;RR&#39;</span><span class="p">,</span> <span class="s1">&#39;ss&#39;</span><span class="p">,</span> <span class="s1">&#39;ff_x&#39;</span><span class="p">,</span> <span class="s1">&#39;ff_avg&#39;</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e682928f1be3450f0b85a576010aef35bca90e8d48a82d43aa003f78a8667b25.png" src="_images/e682928f1be3450f0b85a576010aef35bca90e8d48a82d43aa003f78a8667b25.png" />
</div>
</div>
<p>untuk sekarang saya akan biarkan tren data iklim untuk di proses setelah digabungkan dengan data target</p>
</section>
<section id="missing-value-pada-data-iklim">
<h2>Missing value pada data iklim<a class="headerlink" href="#missing-value-pada-data-iklim" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">missing_values</span> <span class="o">=</span> <span class="n">combined_df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah missing values di setiap kolom:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">missing_values</span><span class="p">)</span>


<span class="n">missing_columns</span> <span class="o">=</span> <span class="n">combined_df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">combined_df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">()]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Kolom yang memiliki missing values:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">missing_columns</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">combined_df</span><span class="o">.</span><span class="n">isnull</span><span class="p">(),</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Heatmap Missing Values&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jumlah missing values di setiap kolom:
Tn          22
Tx           7
Tavg         2
RH_avg       2
RR         339
ss          11
ff_x         2
ff_avg       2
ddd_car      2
dtype: int64

Kolom yang memiliki missing values:
Index([&#39;Tn&#39;, &#39;Tx&#39;, &#39;Tavg&#39;, &#39;RH_avg&#39;, &#39;RR&#39;, &#39;ss&#39;, &#39;ff_x&#39;, &#39;ff_avg&#39;, &#39;ddd_car&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
<img alt="_images/b6cb03ae959136185717848ecfe1cd041ad1f6cdf930c3880d2ba03dd062d7df.png" src="_images/b6cb03ae959136185717848ecfe1cd041ad1f6cdf930c3880d2ba03dd062d7df.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tn</th>
      <th>Tx</th>
      <th>Tavg</th>
      <th>RH_avg</th>
      <th>RR</th>
      <th>ss</th>
      <th>ff_x</th>
      <th>ff_avg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>2209.000000</td>
      <td>2224.000000</td>
      <td>2229.000000</td>
      <td>2229.000000</td>
      <td>1892.000000</td>
      <td>2220.000000</td>
      <td>2229.000000</td>
      <td>2229.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>25.469262</td>
      <td>33.935387</td>
      <td>28.905339</td>
      <td>75.383131</td>
      <td>5.385888</td>
      <td>6.357658</td>
      <td>5.382683</td>
      <td>2.313145</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.157792</td>
      <td>1.353120</td>
      <td>1.079802</td>
      <td>6.436989</td>
      <td>12.339723</td>
      <td>2.571589</td>
      <td>1.663659</td>
      <td>0.735550</td>
    </tr>
    <tr>
      <th>min</th>
      <td>21.000000</td>
      <td>27.600000</td>
      <td>25.700000</td>
      <td>58.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>25.000000</td>
      <td>33.200000</td>
      <td>28.200000</td>
      <td>70.000000</td>
      <td>0.000000</td>
      <td>4.600000</td>
      <td>4.000000</td>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>25.600000</td>
      <td>34.000000</td>
      <td>28.900000</td>
      <td>76.000000</td>
      <td>0.000000</td>
      <td>7.300000</td>
      <td>5.000000</td>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>26.200000</td>
      <td>34.800000</td>
      <td>29.600000</td>
      <td>80.000000</td>
      <td>3.825000</td>
      <td>8.500000</td>
      <td>6.000000</td>
      <td>3.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>28.600000</td>
      <td>37.600000</td>
      <td>32.400000</td>
      <td>94.000000</td>
      <td>101.800000</td>
      <td>9.800000</td>
      <td>23.000000</td>
      <td>5.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">combined_df</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tn         float64
Tx         float64
Tavg       float64
RH_avg     float64
RR         float64
ss         float64
ff_x       float64
ff_avg     float64
ddd_car     object
dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ddd_car&#39;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="prepocessing-dini-data-fitur">
<h2>Prepocessing dini data fitur<a class="headerlink" href="#prepocessing-dini-data-fitur" title="Link to this heading">#</a></h2>
<p>sekarang karena saya mau jadikan data iklim haian ini pola bulanan dengan rata rata, maka saya harus me rata-rata data harian tersebut per bulan, jadi dilakukan prepocessing dini</p>
<p>pertama, untuk data missing saya lakukan interpolasi linear pada fitur RR</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined_df</span><span class="p">[</span><span class="s1">&#39;RR&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">combined_df</span><span class="o">.</span><span class="n">isnull</span><span class="p">(),</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Heatmap Missing Values&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\ahmad\AppData\Local\Temp\ipykernel_5216\977787435.py:1: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing &#39;df[col].method(value, inplace=True)&#39;, try using &#39;df.method({col: value}, inplace=True)&#39; or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  combined_df[&#39;RR&#39;].interpolate(method=&#39;linear&#39;, inplace=True)
</pre></div>
</div>
<img alt="_images/31082f72954a5031489f7ecd46e2abc3c9634542d4f36bf84e8538bc65406070.png" src="_images/31082f72954a5031489f7ecd46e2abc3c9634542d4f36bf84e8538bc65406070.png" />
</div>
</div>
<p>dan untuk missing value yang lain saya coba untuk di hapus karena tidak terlalu banyak</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined_df</span> <span class="o">=</span> <span class="n">combined_df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tn</th>
      <th>Tx</th>
      <th>Tavg</th>
      <th>RH_avg</th>
      <th>RR</th>
      <th>ss</th>
      <th>ff_x</th>
      <th>ff_avg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>25.469476</td>
      <td>33.941503</td>
      <td>28.908246</td>
      <td>75.346697</td>
      <td>5.213440</td>
      <td>6.372711</td>
      <td>5.380866</td>
      <td>2.309795</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.157484</td>
      <td>1.355641</td>
      <td>1.082895</td>
      <td>6.444743</td>
      <td>11.844165</td>
      <td>2.564267</td>
      <td>1.667098</td>
      <td>0.735027</td>
    </tr>
    <tr>
      <th>min</th>
      <td>21.000000</td>
      <td>27.600000</td>
      <td>25.700000</td>
      <td>58.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>25.000000</td>
      <td>33.200000</td>
      <td>28.200000</td>
      <td>70.000000</td>
      <td>0.000000</td>
      <td>4.600000</td>
      <td>4.000000</td>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>25.600000</td>
      <td>34.000000</td>
      <td>28.900000</td>
      <td>76.000000</td>
      <td>0.000000</td>
      <td>7.300000</td>
      <td>5.000000</td>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>26.200000</td>
      <td>34.800000</td>
      <td>29.600000</td>
      <td>80.000000</td>
      <td>4.000000</td>
      <td>8.500000</td>
      <td>6.000000</td>
      <td>3.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>28.600000</td>
      <td>37.600000</td>
      <td>32.400000</td>
      <td>94.000000</td>
      <td>101.800000</td>
      <td>9.800000</td>
      <td>23.000000</td>
      <td>5.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="mencari-outlier-pada-data-fitur">
<h2>Mencari Outlier Pada data fitur<a class="headerlink" href="#mencari-outlier-pada-data-fitur" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>

<span class="n">columns_to_analyze</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Tn&#39;</span><span class="p">,</span> <span class="s1">&#39;Tx&#39;</span><span class="p">,</span> <span class="s1">&#39;Tavg&#39;</span><span class="p">,</span> <span class="s1">&#39;RH_avg&#39;</span><span class="p">,</span> <span class="s1">&#39;RR&#39;</span><span class="p">,</span> <span class="s1">&#39;ss&#39;</span><span class="p">,</span> <span class="s1">&#39;ff_x&#39;</span><span class="p">,</span> <span class="s1">&#39;ff_avg&#39;</span><span class="p">]</span>


<span class="n">combined_df</span> <span class="o">=</span> <span class="n">combined_df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">columns_to_analyze</span><span class="p">)</span>

<span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>

<span class="n">outlier_labels</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">combined_df</span><span class="p">[</span><span class="n">columns_to_analyze</span><span class="p">])</span>
<span class="n">outlier_scores</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">negative_outlier_factor_</span>

<span class="n">combined_df</span><span class="p">[</span><span class="s1">&#39;Outlier&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">outlier_labels</span>


<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Tn&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;RR&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Outlier&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">],</span> <span class="n">data</span><span class="o">=</span><span class="n">combined_df</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Deteksi Outlier dengan LOF (Tn vs RR)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Tavg&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;RH_avg&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Outlier&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">],</span> <span class="n">data</span><span class="o">=</span><span class="n">combined_df</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Deteksi Outlier dengan LOF (Tavg vs RH_avg)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">combined_df</span><span class="p">[</span><span class="s1">&#39;LOF_Score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">outlier_scores</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Skor LOF untuk tiap data:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">combined_df</span><span class="p">[[</span><span class="s1">&#39;Tn&#39;</span><span class="p">,</span> <span class="s1">&#39;Tx&#39;</span><span class="p">,</span> <span class="s1">&#39;Tavg&#39;</span><span class="p">,</span> <span class="s1">&#39;RH_avg&#39;</span><span class="p">,</span> <span class="s1">&#39;RR&#39;</span><span class="p">,</span> <span class="s1">&#39;ss&#39;</span><span class="p">,</span> <span class="s1">&#39;ff_x&#39;</span><span class="p">,</span> <span class="s1">&#39;ff_avg&#39;</span><span class="p">,</span> <span class="s1">&#39;Outlier&#39;</span><span class="p">,</span> <span class="s1">&#39;LOF_Score&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/64306a129818250bb2f6f46c8a1b2c113d1e2fb523dedfe4ba575ce75744e17f.png" src="_images/64306a129818250bb2f6f46c8a1b2c113d1e2fb523dedfe4ba575ce75744e17f.png" />
<img alt="_images/1eec7356d5041699aafdf40f4ee151c70e22f6f221f3c4a42e9eaadc4ab050d1.png" src="_images/1eec7356d5041699aafdf40f4ee151c70e22f6f221f3c4a42e9eaadc4ab050d1.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Skor LOF untuk tiap data:
              Tn    Tx  Tavg  RH_avg    RR   ss  ff_x  ff_avg  Outlier  \
Tanggal                                                                  
2018-02-01  26.0  30.2  27.5    88.0  13.2  0.4   4.0     1.0        1   
2018-02-02  22.0  33.0  28.3    83.0   2.9  2.4   4.0     2.0        1   
2018-02-03  24.0  32.0  27.1    87.0  32.1  5.3   4.0     2.0        1   
2018-02-04  25.0  33.3  28.9    80.0   8.1  2.0   3.0     2.0        1   
2018-02-05  26.0  33.8  28.7    78.0   0.3  7.8   5.0     2.0        1   
...          ...   ...   ...     ...   ...  ...   ...     ...      ...   
2023-01-27  25.2  32.4  28.2    80.0   0.9  0.5   4.0     3.0        1   
2023-01-29  25.0  32.8  27.4    82.0  11.5  0.0  10.0     2.0        1   
2023-01-30  25.4  34.0  29.1    80.0   3.8  4.6   7.0     3.0        1   
2023-01-31  26.4  34.2  28.9    80.0   8.5  1.6  13.0     4.0       -1   
2023-02-01  25.6  32.4  28.2    78.0  13.2  2.8   7.0     2.0        1   

            LOF_Score  
Tanggal                
2018-02-01  -1.184847  
2018-02-02  -1.303744  
2018-02-03  -1.052630  
2018-02-04  -1.001616  
2018-02-05  -0.974023  
...               ...  
2023-01-27  -1.028446  
2023-01-29  -1.284930  
2023-01-30  -1.031995  
2023-01-31  -1.639041  
2023-02-01  -1.093603  

[2195 rows x 10 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined_df</span><span class="p">[</span><span class="s1">&#39;LOF_Score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">outlier_scores</span>


<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outlier data:&quot;</span><span class="p">)</span>
<span class="n">outliers</span> <span class="o">=</span> <span class="n">combined_df</span><span class="p">[</span><span class="n">combined_df</span><span class="p">[</span><span class="s1">&#39;Outlier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Memilih hanya outlier</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">outliers</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Index: </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">, Tn: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Tn&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, Tx: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Tx&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, Tavg: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Tavg&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, RH_avg: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;RH_avg&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, RR: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;RR&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, ss: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;ss&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, ff_x: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;ff_x&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, ff_avg: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;ff_avg&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, LOF Score: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;LOF_Score&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Outlier data:
Index: 2018-02-26 00:00:00, Tn: 24.0, Tx: 33.0, Tavg: 26.4, RH_avg: 89.0, RR: 22.8, ss: 9.0, ff_x: 3.0, ff_avg: 1.0, LOF Score: -1.45
Index: 2018-11-22 00:00:00, Tn: 26.0, Tx: 35.0, Tavg: 30.5, RH_avg: 68.0, RR: 3.2, ss: 9.5, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.87
Index: 2018-11-24 00:00:00, Tn: 27.0, Tx: 34.7, Tavg: 30.2, RH_avg: 68.0, RR: 0.0, ss: 8.4, ff_x: 15.0, ff_avg: 2.0, LOF Score: -2.25
Index: 2018-12-18 00:00:00, Tn: 26.0, Tx: 36.0, Tavg: 30.8, RH_avg: 65.0, RR: 0.0, ss: 6.2, ff_x: 4.0, ff_avg: 2.0, LOF Score: -1.33
Index: 2018-12-28 00:00:00, Tn: 25.0, Tx: 33.8, Tavg: 29.1, RH_avg: 70.0, RR: 6.0, ss: 4.5, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.37
Index: 2018-12-29 00:00:00, Tn: 25.0, Tx: 34.5, Tavg: 30.2, RH_avg: 68.0, RR: 0.0, ss: 1.0, ff_x: 5.0, ff_avg: 3.0, LOF Score: -1.33
Index: 2018-07-03 00:00:00, Tn: 24.0, Tx: 33.5, Tavg: 26.8, RH_avg: 78.0, RR: 0.0, ss: 8.8, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.34
Index: 2018-07-14 00:00:00, Tn: 23.0, Tx: 32.0, Tavg: 26.9, RH_avg: 71.0, RR: 0.0, ss: 6.1, ff_x: 4.0, ff_avg: 2.0, LOF Score: -1.47
Index: 2018-09-13 00:00:00, Tn: 23.0, Tx: 34.8, Tavg: 28.2, RH_avg: 62.0, RR: 0.0, ss: 9.0, ff_x: 23.0, ff_avg: 3.0, LOF Score: -4.51
Index: 2018-10-22 00:00:00, Tn: 26.0, Tx: 36.8, Tavg: 30.8, RH_avg: 64.0, RR: 0.0, ss: 5.3, ff_x: 7.0, ff_avg: 2.0, LOF Score: -1.38
Index: 2018-10-29 00:00:00, Tn: 27.0, Tx: 32.4, Tavg: 29.3, RH_avg: 71.0, RR: 0.0, ss: 8.8, ff_x: 4.0, ff_avg: 2.0, LOF Score: -1.34
Index: 2018-10-30 00:00:00, Tn: 27.0, Tx: 36.0, Tavg: 30.8, RH_avg: 62.0, RR: 0.0, ss: 2.3, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.55
Index: 2018-01-20 00:00:00, Tn: 24.0, Tx: 31.4, Tavg: 26.9, RH_avg: 88.0, RR: 59.5, ss: 2.7, ff_x: 5.0, ff_avg: 1.0, LOF Score: -1.31
Index: 2019-02-02 00:00:00, Tn: 24.4, Tx: 33.0, Tavg: 27.1, RH_avg: 87.0, RR: 80.8, ss: 6.9, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.37
Index: 2019-02-03 00:00:00, Tn: 24.0, Tx: 34.4, Tavg: 27.7, RH_avg: 85.0, RR: 101.0, ss: 6.5, ff_x: 3.0, ff_avg: 1.0, LOF Score: -1.89
Index: 2019-11-08 00:00:00, Tn: 26.0, Tx: 37.0, Tavg: 31.2, RH_avg: 64.0, RR: 5.0, ss: 9.8, ff_x: 4.0, ff_avg: 2.0, LOF Score: -2.59
Index: 2019-11-15 00:00:00, Tn: 26.0, Tx: 37.2, Tavg: 31.2, RH_avg: 63.0, RR: 0.0, ss: 6.4, ff_x: 9.0, ff_avg: 2.0, LOF Score: -1.51
Index: 2019-11-20 00:00:00, Tn: 28.0, Tx: 36.8, Tavg: 31.4, RH_avg: 64.0, RR: 0.0, ss: 6.2, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.39
Index: 2019-12-04 00:00:00, Tn: 27.0, Tx: 36.3, Tavg: 31.1, RH_avg: 68.0, RR: 14.5, ss: 8.6, ff_x: 4.0, ff_avg: 2.0, LOF Score: -1.35
Index: 2019-04-14 00:00:00, Tn: 26.3, Tx: 33.7, Tavg: 27.4, RH_avg: 86.0, RR: 2.5, ss: 1.2, ff_x: 11.0, ff_avg: 2.0, LOF Score: -1.39
Index: 2019-06-30 00:00:00, Tn: 23.0, Tx: 32.8, Tavg: 26.4, RH_avg: 70.0, RR: 0.0, ss: 8.3, ff_x: 3.0, ff_avg: 2.0, LOF Score: -1.33
Index: 2019-08-12 00:00:00, Tn: 23.0, Tx: 34.2, Tavg: 27.1, RH_avg: 76.0, RR: 0.0, ss: 7.9, ff_x: 8.0, ff_avg: 4.0, LOF Score: -1.45
Index: 2019-01-18 00:00:00, Tn: 24.1, Tx: 33.1, Tavg: 27.0, RH_avg: 88.0, RR: 91.6, ss: 6.1, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.61
Index: 2019-01-28 00:00:00, Tn: 25.0, Tx: 28.4, Tavg: 26.0, RH_avg: 92.0, RR: 19.1, ss: 0.6, ff_x: 4.0, ff_avg: 2.0, LOF Score: -1.34
Index: 2020-02-29 00:00:00, Tn: 25.0, Tx: 35.0, Tavg: 29.4, RH_avg: 82.0, RR: 101.8, ss: 7.2, ff_x: 6.0, ff_avg: 2.0, LOF Score: -1.92
Index: 2020-11-09 00:00:00, Tn: 26.1, Tx: 34.2, Tavg: 30.2, RH_avg: 70.0, RR: 0.0, ss: 8.1, ff_x: 12.0, ff_avg: 3.0, LOF Score: -1.62
Index: 2020-11-17 00:00:00, Tn: 27.9, Tx: 35.8, Tavg: 31.6, RH_avg: 66.0, RR: 7.75, ss: 9.7, ff_x: 5.0, ff_avg: 2.0, LOF Score: -2.23
Index: 2020-11-19 00:00:00, Tn: 27.8, Tx: 36.2, Tavg: 31.2, RH_avg: 73.0, RR: 0.0, ss: 9.8, ff_x: 9.0, ff_avg: 2.0, LOF Score: -1.69
Index: 2020-12-07 00:00:00, Tn: 25.0, Tx: 30.4, Tavg: 26.3, RH_avg: 90.0, RR: 26.4, ss: 2.4, ff_x: 6.0, ff_avg: 3.0, LOF Score: -1.33
Index: 2020-12-21 00:00:00, Tn: 25.6, Tx: 34.2, Tavg: 29.3, RH_avg: 70.0, RR: 2.6, ss: 6.0, ff_x: 4.0, ff_avg: 1.0, LOF Score: -1.54
Index: 2020-04-05 00:00:00, Tn: 25.0, Tx: 33.4, Tavg: 28.9, RH_avg: 85.0, RR: 80.5, ss: 7.9, ff_x: 4.0, ff_avg: 2.0, LOF Score: -1.37
Index: 2020-06-03 00:00:00, Tn: 25.6, Tx: 33.2, Tavg: 29.7, RH_avg: 75.0, RR: 0.0, ss: 3.7, ff_x: 9.0, ff_avg: 4.0, LOF Score: -1.32
Index: 2020-09-10 00:00:00, Tn: 25.9, Tx: 35.0, Tavg: 29.3, RH_avg: 66.0, RR: 0.0, ss: 6.4, ff_x: 6.0, ff_avg: 2.0, LOF Score: -1.31
Index: 2020-09-19 00:00:00, Tn: 26.8, Tx: 35.1, Tavg: 30.1, RH_avg: 70.0, RR: 0.0, ss: 6.8, ff_x: 8.0, ff_avg: 4.0, LOF Score: -1.34
Index: 2020-09-27 00:00:00, Tn: 26.5, Tx: 35.5, Tavg: 30.5, RH_avg: 64.0, RR: 0.0, ss: 6.0, ff_x: 7.0, ff_avg: 2.0, LOF Score: -1.37
Index: 2020-10-11 00:00:00, Tn: 25.3, Tx: 35.7, Tavg: 30.0, RH_avg: 73.0, RR: 4.0, ss: 3.0, ff_x: 7.0, ff_avg: 3.0, LOF Score: -1.31
Index: 2020-10-23 00:00:00, Tn: 26.6, Tx: 35.8, Tavg: 30.4, RH_avg: 74.0, RR: 2.5, ss: 8.4, ff_x: 4.0, ff_avg: 2.0, LOF Score: -1.50
Index: 2020-10-28 00:00:00, Tn: 25.6, Tx: 35.0, Tavg: 29.8, RH_avg: 74.0, RR: 2.7, ss: 7.2, ff_x: 5.0, ff_avg: 3.0, LOF Score: -1.40
Index: 2020-01-05 00:00:00, Tn: 26.5, Tx: 35.1, Tavg: 28.6, RH_avg: 81.0, RR: 1.3, ss: 0.2, ff_x: 11.0, ff_avg: 3.0, LOF Score: -1.42
Index: 2021-02-06 00:00:00, Tn: 25.8, Tx: 31.0, Tavg: 28.2, RH_avg: 78.0, RR: 2.5, ss: 2.3, ff_x: 10.0, ff_avg: 3.0, LOF Score: -1.32
Index: 2021-02-08 00:00:00, Tn: 26.0, Tx: 31.2, Tavg: 27.2, RH_avg: 86.0, RR: 18.05, ss: 6.5, ff_x: 14.0, ff_avg: 3.0, LOF Score: -1.89
Index: 2021-02-25 00:00:00, Tn: 24.8, Tx: 30.4, Tavg: 26.6, RH_avg: 91.0, RR: 26.4, ss: 1.3, ff_x: 9.0, ff_avg: 3.0, LOF Score: -1.49
Index: 2021-11-15 00:00:00, Tn: 25.2, Tx: 30.9, Tavg: 26.0, RH_avg: 94.0, RR: 19.0, ss: 0.5, ff_x: 6.0, ff_avg: 2.0, LOF Score: -1.41
Index: 2021-11-16 00:00:00, Tn: 25.0, Tx: 30.6, Tavg: 26.4, RH_avg: 91.0, RR: 22.3, ss: 0.1, ff_x: 4.0, ff_avg: 2.0, LOF Score: -1.44
Index: 2021-11-20 00:00:00, Tn: 25.0, Tx: 29.0, Tavg: 25.9, RH_avg: 93.0, RR: 1.3, ss: 7.7, ff_x: 6.0, ff_avg: 2.0, LOF Score: -1.58
Index: 2021-12-27 00:00:00, Tn: 26.0, Tx: 35.7, Tavg: 27.2, RH_avg: 83.0, RR: 17.3, ss: 7.7, ff_x: 11.0, ff_avg: 3.0, LOF Score: -1.51
Index: 2021-12-31 00:00:00, Tn: 24.0, Tx: 33.8, Tavg: 27.5, RH_avg: 85.0, RR: 85.0, ss: 2.9, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.46
Index: 2021-05-19 00:00:00, Tn: 25.3, Tx: 32.6, Tavg: 27.7, RH_avg: 85.0, RR: 89.3, ss: 7.3, ff_x: 4.0, ff_avg: 1.0, LOF Score: -1.56
Index: 2021-05-22 00:00:00, Tn: 26.0, Tx: 34.0, Tavg: 29.3, RH_avg: 74.0, RR: 0.0, ss: 8.8, ff_x: 18.0, ff_avg: 3.0, LOF Score: -2.96
Index: 2021-07-11 00:00:00, Tn: 26.8, Tx: 33.6, Tavg: 29.4, RH_avg: 75.0, RR: 0.0, ss: 3.5, ff_x: 11.0, ff_avg: 4.0, LOF Score: -1.63
Index: 2021-07-16 00:00:00, Tn: 24.0, Tx: 33.0, Tavg: 27.9, RH_avg: 69.0, RR: 0.0, ss: 8.0, ff_x: 3.0, ff_avg: 2.0, LOF Score: -1.33
Index: 2021-09-15 00:00:00, Tn: 24.3, Tx: 33.6, Tavg: 29.1, RH_avg: 76.0, RR: 61.5, ss: 4.7, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.35
Index: 2021-09-16 00:00:00, Tn: 23.8, Tx: 36.2, Tavg: 29.3, RH_avg: 74.0, RR: 0.0, ss: 8.0, ff_x: 4.0, ff_avg: 2.0, LOF Score: -1.43
Index: 2021-09-18 00:00:00, Tn: 25.8, Tx: 35.4, Tavg: 29.5, RH_avg: 68.0, RR: 0.0, ss: 6.4, ff_x: 9.0, ff_avg: 4.0, LOF Score: -1.32
Index: 2021-10-06 00:00:00, Tn: 26.2, Tx: 30.8, Tavg: 28.2, RH_avg: 72.0, RR: 0.0, ss: 5.8, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.62
Index: 2021-10-07 00:00:00, Tn: 24.8, Tx: 34.8, Tavg: 29.0, RH_avg: 68.0, RR: 0.0, ss: 0.1, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.41
Index: 2021-01-22 00:00:00, Tn: 24.8, Tx: 33.0, Tavg: 27.7, RH_avg: 86.0, RR: 13.4, ss: 5.6, ff_x: 10.0, ff_avg: 2.0, LOF Score: -1.32
Index: 2021-01-27 00:00:00, Tn: 24.5, Tx: 33.1, Tavg: 27.8, RH_avg: 78.0, RR: 59.8, ss: 6.2, ff_x: 5.0, ff_avg: 3.0, LOF Score: -1.34
Index: 2021-01-30 00:00:00, Tn: 24.8, Tx: 29.4, Tavg: 26.6, RH_avg: 84.0, RR: 1.8, ss: 3.4, ff_x: 12.0, ff_avg: 4.0, LOF Score: -1.53
Index: 2022-12-09 00:00:00, Tn: 26.0, Tx: 34.8, Tavg: 30.4, RH_avg: 72.0, RR: 0.0, ss: 8.8, ff_x: 10.0, ff_avg: 3.0, LOF Score: -1.31
Index: 2022-12-10 00:00:00, Tn: 24.8, Tx: 34.0, Tavg: 29.7, RH_avg: 74.0, RR: 80.0, ss: 7.5, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.41
Index: 2022-12-11 00:00:00, Tn: 25.6, Tx: 34.4, Tavg: 29.9, RH_avg: 72.0, RR: 4.4, ss: 8.0, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.54
Index: 2022-12-24 00:00:00, Tn: 24.0, Tx: 32.6, Tavg: 28.2, RH_avg: 76.0, RR: 4.6, ss: 0.1, ff_x: 8.0, ff_avg: 4.0, LOF Score: -1.35
Index: 2022-12-30 00:00:00, Tn: 25.4, Tx: 27.6, Tavg: 26.3, RH_avg: 91.0, RR: 9.4, ss: 0.0, ff_x: 6.0, ff_avg: 4.0, LOF Score: -1.36
Index: 2022-12-31 00:00:00, Tn: 25.0, Tx: 27.6, Tavg: 25.8, RH_avg: 92.0, RR: 10.8, ss: 0.0, ff_x: 5.0, ff_avg: 3.0, LOF Score: -1.34
Index: 2022-02-09 00:00:00, Tn: 25.0, Tx: 33.4, Tavg: 27.9, RH_avg: 82.0, RR: 2.4, ss: 8.6, ff_x: 13.0, ff_avg: 5.0, LOF Score: -1.92
Index: 2022-01-07 00:00:00, Tn: 25.8, Tx: 34.2, Tavg: 28.0, RH_avg: 83.0, RR: 3.0, ss: 6.5, ff_x: 10.0, ff_avg: 2.0, LOF Score: -1.34
Index: 2022-01-11 00:00:00, Tn: 25.6, Tx: 33.7, Tavg: 27.5, RH_avg: 87.0, RR: 32.0, ss: 9.7, ff_x: 11.0, ff_avg: 3.0, LOF Score: -1.47
Index: 2022-01-24 00:00:00, Tn: 26.0, Tx: 35.2, Tavg: 30.2, RH_avg: 74.0, RR: 2.3, ss: 7.6, ff_x: 6.0, ff_avg: 3.0, LOF Score: -1.37
Index: 2022-07-04 00:00:00, Tn: 27.4, Tx: 33.6, Tavg: 29.1, RH_avg: 80.0, RR: 0.0, ss: 6.5, ff_x: 13.0, ff_avg: 3.0, LOF Score: -1.84
Index: 2022-07-07 00:00:00, Tn: 23.4, Tx: 31.6, Tavg: 28.6, RH_avg: 69.0, RR: 1.25, ss: 8.0, ff_x: 5.0, ff_avg: 3.0, LOF Score: -1.41
Index: 2022-07-17 00:00:00, Tn: 24.8, Tx: 30.4, Tavg: 27.5, RH_avg: 81.0, RR: 0.0, ss: 7.5, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.32
Index: 2022-07-24 00:00:00, Tn: 25.2, Tx: 32.6, Tavg: 28.7, RH_avg: 63.0, RR: 0.0, ss: 8.6, ff_x: 12.0, ff_avg: 3.0, LOF Score: -1.93
Index: 2022-06-29 00:00:00, Tn: 24.6, Tx: 33.4, Tavg: 28.5, RH_avg: 67.0, RR: 4.433333333333334, ss: 8.4, ff_x: 3.0, ff_avg: 1.0, LOF Score: -2.26
Index: 2022-03-07 00:00:00, Tn: 24.0, Tx: 33.6, Tavg: 27.9, RH_avg: 84.0, RR: 39.8, ss: 3.8, ff_x: 12.0, ff_avg: 2.0, LOF Score: -1.34
Index: 2022-03-12 00:00:00, Tn: 26.2, Tx: 32.4, Tavg: 28.9, RH_avg: 84.0, RR: 14.0, ss: 5.7, ff_x: 23.0, ff_avg: 3.0, LOF Score: -2.95
Index: 2022-11-18 00:00:00, Tn: 25.8, Tx: 31.6, Tavg: 28.8, RH_avg: 76.0, RR: 2.5, ss: 7.8, ff_x: 6.0, ff_avg: 3.0, LOF Score: -1.46
Index: 2022-11-19 00:00:00, Tn: 23.4, Tx: 30.0, Tavg: 26.0, RH_avg: 89.0, RR: 76.7, ss: 0.8, ff_x: 6.0, ff_avg: 2.0, LOF Score: -1.32
Index: 2022-10-28 00:00:00, Tn: 24.0, Tx: 32.4, Tavg: 28.7, RH_avg: 70.0, RR: 0.0, ss: 0.8, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.32
Index: 2022-10-29 00:00:00, Tn: 24.0, Tx: 31.6, Tavg: 28.4, RH_avg: 68.0, RR: 0.0, ss: 8.1, ff_x: 3.0, ff_avg: 1.0, LOF Score: -1.55
Index: 2022-10-30 00:00:00, Tn: 25.2, Tx: 32.5, Tavg: 29.7, RH_avg: 64.0, RR: 0.0, ss: 2.5, ff_x: 4.0, ff_avg: 2.0, LOF Score: -1.84
Index: 2022-09-01 00:00:00, Tn: 25.8, Tx: 35.2, Tavg: 29.7, RH_avg: 70.0, RR: 7.85, ss: 4.0, ff_x: 6.0, ff_avg: 3.0, LOF Score: -1.39
Index: 2023-02-26 00:00:00, Tn: 26.0, Tx: 30.4, Tavg: 27.8, RH_avg: 81.0, RR: 3.0, ss: 7.5, ff_x: 8.0, ff_avg: 4.0, LOF Score: -1.43
Index: 2023-02-27 00:00:00, Tn: 25.2, Tx: 30.7, Tavg: 27.3, RH_avg: 80.0, RR: 0.1, ss: 4.5, ff_x: 11.0, ff_avg: 4.0, LOF Score: -1.40
Index: 2023-11-06 00:00:00, Tn: 27.0, Tx: 36.2, Tavg: 31.0, RH_avg: 66.0, RR: 6.95, ss: 6.8, ff_x: 6.0, ff_avg: 3.0, LOF Score: -2.01
Index: 2023-11-11 00:00:00, Tn: 27.8, Tx: 35.8, Tavg: 31.1, RH_avg: 67.0, RR: 0.0, ss: 6.0, ff_x: 7.0, ff_avg: 4.0, LOF Score: -1.39
Index: 2023-11-18 00:00:00, Tn: 26.6, Tx: 36.2, Tavg: 31.1, RH_avg: 64.0, RR: 0.0, ss: 3.1, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.35
Index: 2023-11-19 00:00:00, Tn: 27.2, Tx: 36.2, Tavg: 31.5, RH_avg: 60.0, RR: 0.0, ss: 6.2, ff_x: 6.0, ff_avg: 3.0, LOF Score: -1.31
Index: 2023-12-11 00:00:00, Tn: 26.4, Tx: 36.0, Tavg: 30.5, RH_avg: 69.0, RR: 20.0, ss: 1.5, ff_x: 4.0, ff_avg: 2.0, LOF Score: -1.48
Index: 2023-12-16 00:00:00, Tn: 25.4, Tx: 35.8, Tavg: 31.3, RH_avg: 67.0, RR: 0.4, ss: 6.2, ff_x: 6.0, ff_avg: 2.0, LOF Score: -1.32
Index: 2023-12-19 00:00:00, Tn: 26.6, Tx: 36.0, Tavg: 30.8, RH_avg: 62.0, RR: 0.0, ss: 6.6, ff_x: 4.0, ff_avg: 2.0, LOF Score: -1.48
Index: 2023-12-20 00:00:00, Tn: 25.8, Tx: 34.4, Tavg: 30.5, RH_avg: 61.0, RR: 0.0, ss: 7.7, ff_x: 5.0, ff_avg: 2.0, LOF Score: -1.35
Index: 2023-03-02 00:00:00, Tn: 24.6, Tx: 28.8, Tavg: 25.7, RH_avg: 90.0, RR: 2.0, ss: 4.0, ff_x: 8.0, ff_avg: 4.0, LOF Score: -1.44
Index: 2023-04-11 00:00:00, Tn: 24.8, Tx: 34.9, Tavg: 29.7, RH_avg: 74.0, RR: 3.0, ss: 7.1, ff_x: 7.0, ff_avg: 3.0, LOF Score: -1.39
Index: 2023-04-23 00:00:00, Tn: 28.0, Tx: 33.7, Tavg: 30.6, RH_avg: 71.0, RR: 0.0, ss: 8.3, ff_x: 6.0, ff_avg: 4.0, LOF Score: -1.57
Index: 2023-07-12 00:00:00, Tn: 24.2, Tx: 32.8, Tavg: 27.7, RH_avg: 69.0, RR: 0.0, ss: 4.8, ff_x: 3.0, ff_avg: 2.0, LOF Score: -1.52
Index: 2023-07-18 00:00:00, Tn: 23.6, Tx: 34.0, Tavg: 27.2, RH_avg: 72.0, RR: 0.0, ss: 9.0, ff_x: 9.0, ff_avg: 4.0, LOF Score: -1.36
Index: 2023-07-30 00:00:00, Tn: 22.8, Tx: 32.0, Tavg: 27.3, RH_avg: 65.0, RR: 0.0, ss: 8.4, ff_x: 9.0, ff_avg: 4.0, LOF Score: -1.37
Index: 2023-08-01 00:00:00, Tn: 23.8, Tx: 33.0, Tavg: 29.1, RH_avg: 70.0, RR: 0.0, ss: 8.6, ff_x: 10.0, ff_avg: 4.0, LOF Score: -1.41
Index: 2023-08-01 00:00:00, Tn: 23.8, Tx: 33.0, Tavg: 29.1, RH_avg: 70.0, RR: 0.0, ss: 8.6, ff_x: 10.0, ff_avg: 4.0, LOF Score: -1.41
Index: 2023-09-05 00:00:00, Tn: 23.2, Tx: 33.2, Tavg: 27.9, RH_avg: 60.0, RR: 0.0, ss: 8.3, ff_x: 8.0, ff_avg: 4.0, LOF Score: -1.40
Index: 2023-09-18 00:00:00, Tn: 24.8, Tx: 33.4, Tavg: 28.3, RH_avg: 70.0, RR: 5.0, ss: 8.7, ff_x: 6.0, ff_avg: 3.0, LOF Score: -2.35
Index: 2023-09-19 00:00:00, Tn: 24.2, Tx: 34.4, Tavg: 29.0, RH_avg: 65.0, RR: 3.333333333333333, ss: 8.1, ff_x: 7.0, ff_avg: 4.0, LOF Score: -1.92
Index: 2023-09-24 00:00:00, Tn: 24.8, Tx: 34.8, Tavg: 29.1, RH_avg: 62.0, RR: 0.0, ss: 8.8, ff_x: 10.0, ff_avg: 4.0, LOF Score: -1.38
Index: 2023-10-08 00:00:00, Tn: 25.6, Tx: 35.1, Tavg: 29.8, RH_avg: 69.0, RR: 0.0, ss: 7.4, ff_x: 10.0, ff_avg: 4.0, LOF Score: -1.34
Index: 2023-10-17 00:00:00, Tn: 26.0, Tx: 35.0, Tavg: 30.4, RH_avg: 64.0, RR: 0.0, ss: 8.9, ff_x: 11.0, ff_avg: 5.0, LOF Score: -1.51
Index: 2023-10-18 00:00:00, Tn: 26.8, Tx: 36.2, Tavg: 30.5, RH_avg: 65.0, RR: 0.0, ss: 9.0, ff_x: 12.0, ff_avg: 5.0, LOF Score: -1.83
Index: 2023-10-28 00:00:00, Tn: 26.2, Tx: 36.6, Tavg: 30.9, RH_avg: 58.0, RR: 0.0, ss: 9.0, ff_x: 6.0, ff_avg: 2.0, LOF Score: -1.51
Index: 2023-01-01 00:00:00, Tn: 24.5, Tx: 31.0, Tavg: 27.5, RH_avg: 79.0, RR: 25.2, ss: 0.0, ff_x: 8.0, ff_avg: 4.0, LOF Score: -1.32
Index: 2023-01-31 00:00:00, Tn: 26.4, Tx: 34.2, Tavg: 28.9, RH_avg: 80.0, RR: 8.5, ss: 1.6, ff_x: 13.0, ff_avg: 4.0, LOF Score: -1.64
</pre></div>
</div>
</div>
</div>
<p>penanganan outlier saya menggunakan presentil</p>
<p>Kode ini mengganti nilai outlier dengan batas bawah (1% persentil) dan batas atas (99% persentil) dari masing-masing kolom. Ini membantu menjaga data tetap berada dalam rentang yang lebih realistis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lower_percentile</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">upper_percentile</span> <span class="o">=</span> <span class="mi">99</span>

<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns_to_analyze</span><span class="p">:</span>
    <span class="n">lower_bound</span> <span class="o">=</span> <span class="n">combined_df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">lower_percentile</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">upper_bound</span> <span class="o">=</span> <span class="n">combined_df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">upper_percentile</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
    
    <span class="n">combined_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">combined_df</span><span class="p">[</span><span class="s1">&#39;Outlier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">combined_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">combined_df</span><span class="p">[</span><span class="s1">&#39;Outlier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="n">upper_bound</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outlier telah diganti dengan batas persentil 1 dan 99.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Outlier telah diganti dengan batas persentil 1 dan 99.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tn</th>
      <th>Tx</th>
      <th>Tavg</th>
      <th>RH_avg</th>
      <th>RR</th>
      <th>ss</th>
      <th>ff_x</th>
      <th>ff_avg</th>
      <th>Outlier</th>
      <th>LOF_Score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>2195.00000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
      <td>2195.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>25.46939</td>
      <td>33.946364</td>
      <td>28.910129</td>
      <td>75.340319</td>
      <td>5.084709</td>
      <td>6.372255</td>
      <td>5.349431</td>
      <td>2.308428</td>
      <td>0.899772</td>
      <td>-1.080471</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.15730</td>
      <td>1.337254</td>
      <td>1.077985</td>
      <td>6.410480</td>
      <td>11.081937</td>
      <td>2.563688</td>
      <td>1.503716</td>
      <td>0.730940</td>
      <td>0.436459</td>
      <td>0.161981</td>
    </tr>
    <tr>
      <th>min</th>
      <td>21.00000</td>
      <td>27.600000</td>
      <td>25.700000</td>
      <td>59.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>-1.000000</td>
      <td>-4.509491</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>25.00000</td>
      <td>33.200000</td>
      <td>28.200000</td>
      <td>70.000000</td>
      <td>0.000000</td>
      <td>4.600000</td>
      <td>4.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>-1.102448</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>25.60000</td>
      <td>34.000000</td>
      <td>28.900000</td>
      <td>76.000000</td>
      <td>0.000000</td>
      <td>7.300000</td>
      <td>5.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>-1.039218</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>26.20000</td>
      <td>34.800000</td>
      <td>29.600000</td>
      <td>80.000000</td>
      <td>4.000000</td>
      <td>8.500000</td>
      <td>6.000000</td>
      <td>3.000000</td>
      <td>1.000000</td>
      <td>-1.002116</td>
    </tr>
    <tr>
      <th>max</th>
      <td>28.60000</td>
      <td>37.600000</td>
      <td>32.400000</td>
      <td>92.000000</td>
      <td>77.200000</td>
      <td>9.800000</td>
      <td>10.000000</td>
      <td>5.000000</td>
      <td>1.000000</td>
      <td>-0.957458</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="rerata-dan-modus">
<h2>Rerata dan Modus<a class="headerlink" href="#rerata-dan-modus" title="Link to this heading">#</a></h2>
<p>karena saya mau menjadikan data fitur harian ini sebagai data bulanan, maka setelah prepocessing awal tadi saya menggunakan rata-rata per bulan</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">monthly_average_df</span> <span class="o">=</span> <span class="n">combined_df</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;ME&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">monthly_average_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                   Tn         Tx       Tavg     RH_avg        RR        ss  \
Tanggal                                                                      
2018-01-31  25.200000  32.933333  28.253333  81.966667  8.025933  3.370000   
2018-02-28  24.857143  32.925000  28.128357  82.142857  9.503571  4.782143   
2018-03-31  25.281250  33.825000  28.637500  81.750000  9.582812  4.934375   
2018-04-30  26.310345  35.037931  29.844828  77.034483  1.706897  7.217241   
2018-05-31  26.000000  34.619355  29.406452  72.677419  0.077419  7.341935   
...               ...        ...        ...        ...       ...       ...   
2023-08-31  24.112500  33.190625  28.062500  69.468750  0.000000  8.268750   
2023-09-30  24.454839  33.964516  28.532258  65.903226  0.322581  8.467742   
2023-10-31  26.516667  35.523333  30.396667  64.766667  0.033333  8.580000   
2023-11-30  27.170968  35.558065  30.764516  68.870968  3.975806  6.970968   
2023-12-31  26.559375  35.065625  30.140625  72.437500  5.853125  6.271875   

                ff_x    ff_avg   Outlier  LOF_Score  
Tanggal                                              
2018-01-31  4.200000  1.766667  0.933333  -1.060984  
2018-02-28  4.428571  2.035714  0.928571  -1.082003  
2018-03-31  4.062500  1.718750  1.000000  -1.047982  
2018-04-30  4.689655  2.034483  1.000000  -1.033598  
2018-05-31  5.516129  2.225806  1.000000  -1.036771  
...              ...       ...       ...        ...  
2023-08-31  7.000000  3.468750  0.875000  -1.055754  
2023-09-30  6.967742  3.483871  0.741935  -1.161213  
2023-10-31  7.100000  3.233333  0.733333  -1.165511  
2023-11-30  5.483871  2.483871  0.741935  -1.181178  
2023-12-31  4.906250  2.062500  0.750000  -1.131586  

[72 rows x 10 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">monthly_average_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tn</th>
      <th>Tx</th>
      <th>Tavg</th>
      <th>RH_avg</th>
      <th>RR</th>
      <th>ss</th>
      <th>ff_x</th>
      <th>ff_avg</th>
      <th>Outlier</th>
      <th>LOF_Score</th>
    </tr>
    <tr>
      <th>Tanggal</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018-01-31</th>
      <td>25.200000</td>
      <td>32.933333</td>
      <td>28.253333</td>
      <td>81.966667</td>
      <td>8.025933</td>
      <td>3.370000</td>
      <td>4.200000</td>
      <td>1.766667</td>
      <td>0.933333</td>
      <td>-1.060984</td>
    </tr>
    <tr>
      <th>2018-02-28</th>
      <td>24.857143</td>
      <td>32.925000</td>
      <td>28.128357</td>
      <td>82.142857</td>
      <td>9.503571</td>
      <td>4.782143</td>
      <td>4.428571</td>
      <td>2.035714</td>
      <td>0.928571</td>
      <td>-1.082003</td>
    </tr>
    <tr>
      <th>2018-03-31</th>
      <td>25.281250</td>
      <td>33.825000</td>
      <td>28.637500</td>
      <td>81.750000</td>
      <td>9.582812</td>
      <td>4.934375</td>
      <td>4.062500</td>
      <td>1.718750</td>
      <td>1.000000</td>
      <td>-1.047982</td>
    </tr>
    <tr>
      <th>2018-04-30</th>
      <td>26.310345</td>
      <td>35.037931</td>
      <td>29.844828</td>
      <td>77.034483</td>
      <td>1.706897</td>
      <td>7.217241</td>
      <td>4.689655</td>
      <td>2.034483</td>
      <td>1.000000</td>
      <td>-1.033598</td>
    </tr>
    <tr>
      <th>2018-05-31</th>
      <td>26.000000</td>
      <td>34.619355</td>
      <td>29.406452</td>
      <td>72.677419</td>
      <td>0.077419</td>
      <td>7.341935</td>
      <td>5.516129</td>
      <td>2.225806</td>
      <td>1.000000</td>
      <td>-1.036771</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2023-08-31</th>
      <td>24.112500</td>
      <td>33.190625</td>
      <td>28.062500</td>
      <td>69.468750</td>
      <td>0.000000</td>
      <td>8.268750</td>
      <td>7.000000</td>
      <td>3.468750</td>
      <td>0.875000</td>
      <td>-1.055754</td>
    </tr>
    <tr>
      <th>2023-09-30</th>
      <td>24.454839</td>
      <td>33.964516</td>
      <td>28.532258</td>
      <td>65.903226</td>
      <td>0.322581</td>
      <td>8.467742</td>
      <td>6.967742</td>
      <td>3.483871</td>
      <td>0.741935</td>
      <td>-1.161213</td>
    </tr>
    <tr>
      <th>2023-10-31</th>
      <td>26.516667</td>
      <td>35.523333</td>
      <td>30.396667</td>
      <td>64.766667</td>
      <td>0.033333</td>
      <td>8.580000</td>
      <td>7.100000</td>
      <td>3.233333</td>
      <td>0.733333</td>
      <td>-1.165511</td>
    </tr>
    <tr>
      <th>2023-11-30</th>
      <td>27.170968</td>
      <td>35.558065</td>
      <td>30.764516</td>
      <td>68.870968</td>
      <td>3.975806</td>
      <td>6.970968</td>
      <td>5.483871</td>
      <td>2.483871</td>
      <td>0.741935</td>
      <td>-1.181178</td>
    </tr>
    <tr>
      <th>2023-12-31</th>
      <td>26.559375</td>
      <td>35.065625</td>
      <td>30.140625</td>
      <td>72.437500</td>
      <td>5.853125</td>
      <td>6.271875</td>
      <td>4.906250</td>
      <td>2.062500</td>
      <td>0.750000</td>
      <td>-1.131586</td>
    </tr>
  </tbody>
</table>
<p>72 rows × 10 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">monthly_average_df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">monthly_average_df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">monthly_average_df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">monthly_average_df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">monthly_average_df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;2018-01&#39;, &#39;2018-02&#39;, &#39;2018-03&#39;, &#39;2018-04&#39;, &#39;2018-05&#39;, &#39;2018-06&#39;,
       &#39;2018-07&#39;, &#39;2018-08&#39;, &#39;2018-09&#39;, &#39;2018-10&#39;, &#39;2018-11&#39;, &#39;2018-12&#39;,
       &#39;2019-01&#39;, &#39;2019-02&#39;, &#39;2019-03&#39;, &#39;2019-04&#39;, &#39;2019-05&#39;, &#39;2019-06&#39;,
       &#39;2019-07&#39;, &#39;2019-08&#39;, &#39;2019-09&#39;, &#39;2019-10&#39;, &#39;2019-11&#39;, &#39;2019-12&#39;,
       &#39;2020-01&#39;, &#39;2020-02&#39;, &#39;2020-03&#39;, &#39;2020-04&#39;, &#39;2020-05&#39;, &#39;2020-06&#39;,
       &#39;2020-07&#39;, &#39;2020-08&#39;, &#39;2020-09&#39;, &#39;2020-10&#39;, &#39;2020-11&#39;, &#39;2020-12&#39;,
       &#39;2021-01&#39;, &#39;2021-02&#39;, &#39;2021-03&#39;, &#39;2021-04&#39;, &#39;2021-05&#39;, &#39;2021-06&#39;,
       &#39;2021-07&#39;, &#39;2021-08&#39;, &#39;2021-09&#39;, &#39;2021-10&#39;, &#39;2021-11&#39;, &#39;2021-12&#39;,
       &#39;2022-01&#39;, &#39;2022-02&#39;, &#39;2022-03&#39;, &#39;2022-04&#39;, &#39;2022-05&#39;, &#39;2022-06&#39;,
       &#39;2022-07&#39;, &#39;2022-08&#39;, &#39;2022-09&#39;, &#39;2022-10&#39;, &#39;2022-11&#39;, &#39;2022-12&#39;,
       &#39;2023-01&#39;, &#39;2023-02&#39;, &#39;2023-03&#39;, &#39;2023-04&#39;, &#39;2023-05&#39;, &#39;2023-06&#39;,
       &#39;2023-07&#39;, &#39;2023-08&#39;, &#39;2023-09&#39;, &#39;2023-10&#39;, &#39;2023-11&#39;, &#39;2023-12&#39;],
      dtype=&#39;object&#39;, name=&#39;Tanggal&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">monthly_average_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tn</th>
      <th>Tx</th>
      <th>Tavg</th>
      <th>RH_avg</th>
      <th>RR</th>
      <th>ss</th>
      <th>ff_x</th>
      <th>ff_avg</th>
      <th>Outlier</th>
      <th>LOF_Score</th>
    </tr>
    <tr>
      <th>Tanggal</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018-01</th>
      <td>25.200000</td>
      <td>32.933333</td>
      <td>28.253333</td>
      <td>81.966667</td>
      <td>8.025933</td>
      <td>3.370000</td>
      <td>4.200000</td>
      <td>1.766667</td>
      <td>0.933333</td>
      <td>-1.060984</td>
    </tr>
    <tr>
      <th>2018-02</th>
      <td>24.857143</td>
      <td>32.925000</td>
      <td>28.128357</td>
      <td>82.142857</td>
      <td>9.503571</td>
      <td>4.782143</td>
      <td>4.428571</td>
      <td>2.035714</td>
      <td>0.928571</td>
      <td>-1.082003</td>
    </tr>
    <tr>
      <th>2018-03</th>
      <td>25.281250</td>
      <td>33.825000</td>
      <td>28.637500</td>
      <td>81.750000</td>
      <td>9.582812</td>
      <td>4.934375</td>
      <td>4.062500</td>
      <td>1.718750</td>
      <td>1.000000</td>
      <td>-1.047982</td>
    </tr>
    <tr>
      <th>2018-04</th>
      <td>26.310345</td>
      <td>35.037931</td>
      <td>29.844828</td>
      <td>77.034483</td>
      <td>1.706897</td>
      <td>7.217241</td>
      <td>4.689655</td>
      <td>2.034483</td>
      <td>1.000000</td>
      <td>-1.033598</td>
    </tr>
    <tr>
      <th>2018-05</th>
      <td>26.000000</td>
      <td>34.619355</td>
      <td>29.406452</td>
      <td>72.677419</td>
      <td>0.077419</td>
      <td>7.341935</td>
      <td>5.516129</td>
      <td>2.225806</td>
      <td>1.000000</td>
      <td>-1.036771</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2023-08</th>
      <td>24.112500</td>
      <td>33.190625</td>
      <td>28.062500</td>
      <td>69.468750</td>
      <td>0.000000</td>
      <td>8.268750</td>
      <td>7.000000</td>
      <td>3.468750</td>
      <td>0.875000</td>
      <td>-1.055754</td>
    </tr>
    <tr>
      <th>2023-09</th>
      <td>24.454839</td>
      <td>33.964516</td>
      <td>28.532258</td>
      <td>65.903226</td>
      <td>0.322581</td>
      <td>8.467742</td>
      <td>6.967742</td>
      <td>3.483871</td>
      <td>0.741935</td>
      <td>-1.161213</td>
    </tr>
    <tr>
      <th>2023-10</th>
      <td>26.516667</td>
      <td>35.523333</td>
      <td>30.396667</td>
      <td>64.766667</td>
      <td>0.033333</td>
      <td>8.580000</td>
      <td>7.100000</td>
      <td>3.233333</td>
      <td>0.733333</td>
      <td>-1.165511</td>
    </tr>
    <tr>
      <th>2023-11</th>
      <td>27.170968</td>
      <td>35.558065</td>
      <td>30.764516</td>
      <td>68.870968</td>
      <td>3.975806</td>
      <td>6.970968</td>
      <td>5.483871</td>
      <td>2.483871</td>
      <td>0.741935</td>
      <td>-1.181178</td>
    </tr>
    <tr>
      <th>2023-12</th>
      <td>26.559375</td>
      <td>35.065625</td>
      <td>30.140625</td>
      <td>72.437500</td>
      <td>5.853125</td>
      <td>6.271875</td>
      <td>4.906250</td>
      <td>2.062500</td>
      <td>0.750000</td>
      <td>-1.131586</td>
    </tr>
  </tbody>
</table>
<p>72 rows × 10 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">monthly_average_df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s1">&#39;monthly_average_iklim.xlsx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="data-untuk-target">
<h2>Data untuk Target<a class="headerlink" href="#data-untuk-target" title="Link to this heading">#</a></h2>
<p>disini saya mengambil data produksi beras bulanan dari Badan pusat statistik daerah surabaya</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> <span class="c1"># type: ignore</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">os</span>


<span class="n">folder_path</span> <span class="o">=</span> <span class="s1">&#39;./produksi padi per tahun/&#39;</span>
<span class="n">file_paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="s1">&#39;*.xlsx&#39;</span><span class="p">))</span>
<span class="n">data_produksi_list</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">file_paths</span><span class="p">:</span>
    <span class="n">df_produksi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>  
    <span class="n">surabaya_data</span> <span class="o">=</span> <span class="n">df_produksi</span><span class="p">[</span><span class="n">df_produksi</span><span class="p">[</span><span class="s1">&#39;Kabupaten/Kota Se Jawa Timur&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Surabaya&#39;</span><span class="p">,</span> <span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">na</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
    <span class="n">surabaya_bulanan</span> <span class="o">=</span> <span class="n">surabaya_data</span><span class="p">[[</span> <span class="s1">&#39;Januari&#39;</span><span class="p">,</span> <span class="s1">&#39;Februari&#39;</span><span class="p">,</span> <span class="s1">&#39;Maret&#39;</span><span class="p">,</span> <span class="s1">&#39;April&#39;</span><span class="p">,</span> <span class="s1">&#39;Mei&#39;</span><span class="p">,</span> <span class="s1">&#39;Juni&#39;</span><span class="p">,</span><span class="s1">&#39;Juli&#39;</span><span class="p">,</span> <span class="s1">&#39;Agustus&#39;</span><span class="p">,</span> <span class="s1">&#39;September&#39;</span><span class="p">,</span> <span class="s1">&#39;Oktober&#39;</span><span class="p">,</span> <span class="s1">&#39;November&#39;</span><span class="p">,</span> <span class="s1">&#39;Desember&#39;</span><span class="p">,</span><span class="s1">&#39;Tahun&#39;</span><span class="p">]]</span>
    <span class="n">data_produksi_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">surabaya_bulanan</span><span class="p">)</span>


<span class="n">combined_produksi_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">data_produksi_list</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="nb">print</span><span class="p">(</span><span class="n">combined_produksi_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  Januari Februari    Maret    April     Mei    Juni    Juli  Agustus  \
0  387.78   593.65  2783.45   659.83  284.12  235.23  908.55  1189.85   
1  259.45    105.9  2456.99   277.26  420.55   263.1   438.8   233.09   
2   12.23   126.06    88.56  4568.32  1265.9  445.17  533.79  1136.45   
3  450.93   162.11  3805.02  1136.33  412.04  703.65  1149.5   550.23   
4   98.34   982.24  3416.56   866.09  208.34  147.72  576.62   741.73   
5   276.3   884.61   925.32   299.47  422.53     707  198.86   518.42   

  September Oktober November Desember  Tahun  
0    753.98  187.17   100.05   231.19   2018  
1    215.45  450.96   204.03   187.24   2019  
2    735.18   474.2   631.21    58.13   2020  
3    216.68  616.55   343.55   286.08   2021  
4    520.13  101.35   203.33   254.86   2022  
5    142.21  107.49   150.83    26.09   2023  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined_produksi_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Januari</th>
      <th>Februari</th>
      <th>Maret</th>
      <th>April</th>
      <th>Mei</th>
      <th>Juni</th>
      <th>Juli</th>
      <th>Agustus</th>
      <th>September</th>
      <th>Oktober</th>
      <th>November</th>
      <th>Desember</th>
      <th>Tahun</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>387.78</td>
      <td>593.65</td>
      <td>2783.45</td>
      <td>659.83</td>
      <td>284.12</td>
      <td>235.23</td>
      <td>908.55</td>
      <td>1189.85</td>
      <td>753.98</td>
      <td>187.17</td>
      <td>100.05</td>
      <td>231.19</td>
      <td>2018</td>
    </tr>
    <tr>
      <th>1</th>
      <td>259.45</td>
      <td>105.9</td>
      <td>2456.99</td>
      <td>277.26</td>
      <td>420.55</td>
      <td>263.1</td>
      <td>438.8</td>
      <td>233.09</td>
      <td>215.45</td>
      <td>450.96</td>
      <td>204.03</td>
      <td>187.24</td>
      <td>2019</td>
    </tr>
    <tr>
      <th>2</th>
      <td>12.23</td>
      <td>126.06</td>
      <td>88.56</td>
      <td>4568.32</td>
      <td>1265.9</td>
      <td>445.17</td>
      <td>533.79</td>
      <td>1136.45</td>
      <td>735.18</td>
      <td>474.2</td>
      <td>631.21</td>
      <td>58.13</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>3</th>
      <td>450.93</td>
      <td>162.11</td>
      <td>3805.02</td>
      <td>1136.33</td>
      <td>412.04</td>
      <td>703.65</td>
      <td>1149.5</td>
      <td>550.23</td>
      <td>216.68</td>
      <td>616.55</td>
      <td>343.55</td>
      <td>286.08</td>
      <td>2021</td>
    </tr>
    <tr>
      <th>4</th>
      <td>98.34</td>
      <td>982.24</td>
      <td>3416.56</td>
      <td>866.09</td>
      <td>208.34</td>
      <td>147.72</td>
      <td>576.62</td>
      <td>741.73</td>
      <td>520.13</td>
      <td>101.35</td>
      <td>203.33</td>
      <td>254.86</td>
      <td>2022</td>
    </tr>
    <tr>
      <th>5</th>
      <td>276.3</td>
      <td>884.61</td>
      <td>925.32</td>
      <td>299.47</td>
      <td>422.53</td>
      <td>707</td>
      <td>198.86</td>
      <td>518.42</td>
      <td>142.21</td>
      <td>107.49</td>
      <td>150.83</td>
      <td>26.09</td>
      <td>2023</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>lalu saya membuat datanya berbentuk baris sebagai data target</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">folder_path</span> <span class="o">=</span> <span class="s1">&#39;./produksi padi per tahun/&#39;</span>
<span class="n">file_paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="s1">&#39;*.xlsx&#39;</span><span class="p">))</span>
<span class="n">data_produksi_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">file_paths</span><span class="p">:</span>
    <span class="n">df_produksi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> 
    <span class="n">surabaya_data</span> <span class="o">=</span> <span class="n">df_produksi</span><span class="p">[</span><span class="n">df_produksi</span><span class="p">[</span><span class="s1">&#39;Kabupaten/Kota Se Jawa Timur&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Surabaya&#39;</span><span class="p">,</span> <span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">na</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
    <span class="n">surabaya_bulanan</span> <span class="o">=</span> <span class="n">surabaya_data</span><span class="p">[[</span><span class="s1">&#39;Tahun&#39;</span><span class="p">,</span> <span class="s1">&#39;Januari&#39;</span><span class="p">,</span> <span class="s1">&#39;Februari&#39;</span><span class="p">,</span> <span class="s1">&#39;Maret&#39;</span><span class="p">,</span> <span class="s1">&#39;April&#39;</span><span class="p">,</span> <span class="s1">&#39;Mei&#39;</span><span class="p">,</span> <span class="s1">&#39;Juni&#39;</span><span class="p">,</span><span class="s1">&#39;Juli&#39;</span><span class="p">,</span> <span class="s1">&#39;Agustus&#39;</span><span class="p">,</span> <span class="s1">&#39;September&#39;</span><span class="p">,</span> <span class="s1">&#39;Oktober&#39;</span><span class="p">,</span> <span class="s1">&#39;November&#39;</span><span class="p">,</span> <span class="s1">&#39;Desember&#39;</span><span class="p">]]</span>
    <span class="n">data_produksi_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">surabaya_bulanan</span><span class="p">)</span>

<span class="n">combined_produksi_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">data_produksi_list</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">long_format_df</span> <span class="o">=</span> <span class="n">combined_produksi_df</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="s1">&#39;Tahun&#39;</span><span class="p">,</span> 
                                            <span class="n">value_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Januari&#39;</span><span class="p">,</span> <span class="s1">&#39;Februari&#39;</span><span class="p">,</span> <span class="s1">&#39;Maret&#39;</span><span class="p">,</span> <span class="s1">&#39;April&#39;</span><span class="p">,</span> <span class="s1">&#39;Mei&#39;</span><span class="p">,</span> <span class="s1">&#39;Juni&#39;</span><span class="p">,</span> 
                                                        <span class="s1">&#39;Juli&#39;</span><span class="p">,</span> <span class="s1">&#39;Agustus&#39;</span><span class="p">,</span> <span class="s1">&#39;September&#39;</span><span class="p">,</span> <span class="s1">&#39;Oktober&#39;</span><span class="p">,</span> <span class="s1">&#39;November&#39;</span><span class="p">,</span> <span class="s1">&#39;Desember&#39;</span><span class="p">],</span>
                                            <span class="n">var_name</span><span class="o">=</span><span class="s1">&#39;Bulan&#39;</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s1">&#39;Produksi&#39;</span><span class="p">)</span>

<span class="n">bulan_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Januari&#39;</span><span class="p">:</span> <span class="s1">&#39;Jan&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Februari&#39;</span><span class="p">:</span> <span class="s1">&#39;Feb&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Maret&#39;</span><span class="p">:</span> <span class="s1">&#39;Mar&#39;</span><span class="p">,</span>
    <span class="s1">&#39;April&#39;</span><span class="p">:</span> <span class="s1">&#39;Apr&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Mei&#39;</span><span class="p">:</span> <span class="s1">&#39;May&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Juni&#39;</span><span class="p">:</span> <span class="s1">&#39;Jun&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Juli&#39;</span><span class="p">:</span> <span class="s1">&#39;Jul&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Agustus&#39;</span><span class="p">:</span> <span class="s1">&#39;Aug&#39;</span><span class="p">,</span>
    <span class="s1">&#39;September&#39;</span><span class="p">:</span> <span class="s1">&#39;Sep&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Oktober&#39;</span><span class="p">:</span> <span class="s1">&#39;Oct&#39;</span><span class="p">,</span>
    <span class="s1">&#39;November&#39;</span><span class="p">:</span> <span class="s1">&#39;Nov&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Desember&#39;</span><span class="p">:</span> <span class="s1">&#39;Dec&#39;</span>
<span class="p">}</span>
<span class="n">long_format_df</span><span class="p">[</span><span class="s1">&#39;Bulan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">long_format_df</span><span class="p">[</span><span class="s1">&#39;Bulan&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">bulan_dict</span><span class="p">)</span>
<span class="n">long_format_df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">long_format_df</span><span class="p">[</span><span class="s1">&#39;Tahun&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> 
                                            <span class="n">long_format_df</span><span class="p">[</span><span class="s1">&#39;Bulan&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;-01&#39;</span><span class="p">)</span>
<span class="n">long_format_df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">long_format_df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m&#39;</span><span class="p">)</span>
<span class="n">sorted_df</span> <span class="o">=</span> <span class="n">long_format_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">)</span>
<span class="n">final_df</span> <span class="o">=</span> <span class="n">sorted_df</span><span class="p">[[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">,</span> <span class="s1">&#39;Produksi&#39;</span><span class="p">]]</span>

<span class="n">final_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tanggal</th>
      <th>Produksi</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2018-01</td>
      <td>387.78</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2018-02</td>
      <td>593.65</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2018-03</td>
      <td>2783.45</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2018-04</td>
      <td>659.83</td>
    </tr>
    <tr>
      <th>24</th>
      <td>2018-05</td>
      <td>284.12</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>47</th>
      <td>2023-08</td>
      <td>518.42</td>
    </tr>
    <tr>
      <th>53</th>
      <td>2023-09</td>
      <td>142.21</td>
    </tr>
    <tr>
      <th>59</th>
      <td>2023-10</td>
      <td>107.49</td>
    </tr>
    <tr>
      <th>65</th>
      <td>2023-11</td>
      <td>150.83</td>
    </tr>
    <tr>
      <th>71</th>
      <td>2023-12</td>
      <td>26.09</td>
    </tr>
  </tbody>
</table>
<p>72 rows × 2 columns</p>
</div></div></div>
</div>
</section>
<section id="penggabungan-data-fitur-dan-data-object">
<h2>Penggabungan data fitur dan data object<a class="headerlink" href="#penggabungan-data-fitur-dan-data-object" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">final_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">merged_df</span> <span class="o">=</span> <span class="n">final_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">monthly_average_df</span><span class="p">,</span> <span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>


<span class="nb">print</span><span class="p">(</span><span class="n">merged_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>        Produksi         Tn         Tx       Tavg     RH_avg        RR  \
Tanggal                                                                  
2018-01   387.78  25.200000  32.933333  28.253333  81.966667  8.025933   
2018-02   593.65  24.857143  32.925000  28.128357  82.142857  9.503571   
2018-03  2783.45  25.281250  33.825000  28.637500  81.750000  9.582812   
2018-04   659.83  26.310345  35.037931  29.844828  77.034483  1.706897   
2018-05   284.12  26.000000  34.619355  29.406452  72.677419  0.077419   
...          ...        ...        ...        ...        ...       ...   
2023-08   518.42  24.112500  33.190625  28.062500  69.468750  0.000000   
2023-09   142.21  24.454839  33.964516  28.532258  65.903226  0.322581   
2023-10   107.49  26.516667  35.523333  30.396667  64.766667  0.033333   
2023-11   150.83  27.170968  35.558065  30.764516  68.870968  3.975806   
2023-12    26.09  26.559375  35.065625  30.140625  72.437500  5.853125   

               ss      ff_x    ff_avg   Outlier  LOF_Score  
Tanggal                                                     
2018-01  3.370000  4.200000  1.766667  0.933333  -1.060984  
2018-02  4.782143  4.428571  2.035714  0.928571  -1.082003  
2018-03  4.934375  4.062500  1.718750  1.000000  -1.047982  
2018-04  7.217241  4.689655  2.034483  1.000000  -1.033598  
2018-05  7.341935  5.516129  2.225806  1.000000  -1.036771  
...           ...       ...       ...       ...        ...  
2023-08  8.268750  7.000000  3.468750  0.875000  -1.055754  
2023-09  8.467742  6.967742  3.483871  0.741935  -1.161213  
2023-10  8.580000  7.100000  3.233333  0.733333  -1.165511  
2023-11  6.970968  5.483871  2.483871  0.741935  -1.181178  
2023-12  6.271875  4.906250  2.062500  0.750000  -1.131586  

[72 rows x 11 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">merged_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Produksi</th>
      <th>Tn</th>
      <th>Tx</th>
      <th>Tavg</th>
      <th>RH_avg</th>
      <th>RR</th>
      <th>ss</th>
      <th>ff_x</th>
      <th>ff_avg</th>
      <th>Outlier</th>
      <th>LOF_Score</th>
    </tr>
    <tr>
      <th>Tanggal</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018-01</th>
      <td>387.78</td>
      <td>25.200000</td>
      <td>32.933333</td>
      <td>28.253333</td>
      <td>81.966667</td>
      <td>8.025933</td>
      <td>3.370000</td>
      <td>4.200000</td>
      <td>1.766667</td>
      <td>0.933333</td>
      <td>-1.060984</td>
    </tr>
    <tr>
      <th>2018-02</th>
      <td>593.65</td>
      <td>24.857143</td>
      <td>32.925000</td>
      <td>28.128357</td>
      <td>82.142857</td>
      <td>9.503571</td>
      <td>4.782143</td>
      <td>4.428571</td>
      <td>2.035714</td>
      <td>0.928571</td>
      <td>-1.082003</td>
    </tr>
    <tr>
      <th>2018-03</th>
      <td>2783.45</td>
      <td>25.281250</td>
      <td>33.825000</td>
      <td>28.637500</td>
      <td>81.750000</td>
      <td>9.582812</td>
      <td>4.934375</td>
      <td>4.062500</td>
      <td>1.718750</td>
      <td>1.000000</td>
      <td>-1.047982</td>
    </tr>
    <tr>
      <th>2018-04</th>
      <td>659.83</td>
      <td>26.310345</td>
      <td>35.037931</td>
      <td>29.844828</td>
      <td>77.034483</td>
      <td>1.706897</td>
      <td>7.217241</td>
      <td>4.689655</td>
      <td>2.034483</td>
      <td>1.000000</td>
      <td>-1.033598</td>
    </tr>
    <tr>
      <th>2018-05</th>
      <td>284.12</td>
      <td>26.000000</td>
      <td>34.619355</td>
      <td>29.406452</td>
      <td>72.677419</td>
      <td>0.077419</td>
      <td>7.341935</td>
      <td>5.516129</td>
      <td>2.225806</td>
      <td>1.000000</td>
      <td>-1.036771</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2023-08</th>
      <td>518.42</td>
      <td>24.112500</td>
      <td>33.190625</td>
      <td>28.062500</td>
      <td>69.468750</td>
      <td>0.000000</td>
      <td>8.268750</td>
      <td>7.000000</td>
      <td>3.468750</td>
      <td>0.875000</td>
      <td>-1.055754</td>
    </tr>
    <tr>
      <th>2023-09</th>
      <td>142.21</td>
      <td>24.454839</td>
      <td>33.964516</td>
      <td>28.532258</td>
      <td>65.903226</td>
      <td>0.322581</td>
      <td>8.467742</td>
      <td>6.967742</td>
      <td>3.483871</td>
      <td>0.741935</td>
      <td>-1.161213</td>
    </tr>
    <tr>
      <th>2023-10</th>
      <td>107.49</td>
      <td>26.516667</td>
      <td>35.523333</td>
      <td>30.396667</td>
      <td>64.766667</td>
      <td>0.033333</td>
      <td>8.580000</td>
      <td>7.100000</td>
      <td>3.233333</td>
      <td>0.733333</td>
      <td>-1.165511</td>
    </tr>
    <tr>
      <th>2023-11</th>
      <td>150.83</td>
      <td>27.170968</td>
      <td>35.558065</td>
      <td>30.764516</td>
      <td>68.870968</td>
      <td>3.975806</td>
      <td>6.970968</td>
      <td>5.483871</td>
      <td>2.483871</td>
      <td>0.741935</td>
      <td>-1.181178</td>
    </tr>
    <tr>
      <th>2023-12</th>
      <td>26.09</td>
      <td>26.559375</td>
      <td>35.065625</td>
      <td>30.140625</td>
      <td>72.437500</td>
      <td>5.853125</td>
      <td>6.271875</td>
      <td>4.906250</td>
      <td>2.062500</td>
      <td>0.750000</td>
      <td>-1.131586</td>
    </tr>
  </tbody>
</table>
<p>72 rows × 11 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">merged_df</span><span class="o">=</span> <span class="n">merged_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Outlier&#39;</span><span class="p">,</span> <span class="s1">&#39;LOF_Score&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">merged_df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 72 entries, 2018-01 to 2023-12
Data columns (total 9 columns):
 #   Column    Non-Null Count  Dtype  
---  ------    --------------  -----  
 0   Produksi  72 non-null     object 
 1   Tn        72 non-null     float64
 2   Tx        72 non-null     float64
 3   Tavg      72 non-null     float64
 4   RH_avg    72 non-null     float64
 5   RR        72 non-null     float64
 6   ss        72 non-null     float64
 7   ff_x      72 non-null     float64
 8   ff_avg    72 non-null     float64
dtypes: float64(8), object(1)
memory usage: 5.6+ KB
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Tn: Temperatur minimum(°C)</p></li>
<li><p>Tx: Temperatur maksimum (°C)</p></li>
<li><p>Tavg: Temperatur rata-rata (°C)</p></li>
<li><p>RH_avg: Kelembapan rata-rata (%)</p></li>
<li><p>RR: Curah hujan (mm)</p></li>
<li><p>ss: Lamanya penyinaran matahari (jam)</p></li>
<li><p>ff_x: Kecepatan angin maksimum (m/s)</p></li>
<li><p>ff_avg: Kecepatan angin rata-rata (m/s)</p></li>
<li><p>ddd_car: Arah angin terbanyak (°)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">merged_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tn</th>
      <th>Tx</th>
      <th>Tavg</th>
      <th>RH_avg</th>
      <th>RR</th>
      <th>ss</th>
      <th>ff_x</th>
      <th>ff_avg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>25.472469</td>
      <td>33.943013</td>
      <td>28.910712</td>
      <td>75.485544</td>
      <td>5.119454</td>
      <td>6.392163</td>
      <td>5.371050</td>
      <td>2.305338</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.816777</td>
      <td>0.844170</td>
      <td>0.761956</td>
      <td>5.173377</td>
      <td>5.057597</td>
      <td>1.525237</td>
      <td>0.785035</td>
      <td>0.420066</td>
    </tr>
    <tr>
      <th>min</th>
      <td>23.156250</td>
      <td>32.433333</td>
      <td>27.560000</td>
      <td>64.766667</td>
      <td>0.000000</td>
      <td>3.153125</td>
      <td>4.000000</td>
      <td>1.656250</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>25.128024</td>
      <td>33.409532</td>
      <td>28.358096</td>
      <td>71.562500</td>
      <td>0.486541</td>
      <td>5.203906</td>
      <td>4.806452</td>
      <td>2.025000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>25.586667</td>
      <td>33.819167</td>
      <td>28.773081</td>
      <td>76.726919</td>
      <td>4.017742</td>
      <td>6.482258</td>
      <td>5.317540</td>
      <td>2.237903</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>26.045775</td>
      <td>34.385484</td>
      <td>29.335192</td>
      <td>80.361111</td>
      <td>9.436204</td>
      <td>7.525000</td>
      <td>5.942992</td>
      <td>2.567036</td>
    </tr>
    <tr>
      <th>max</th>
      <td>27.170968</td>
      <td>36.022968</td>
      <td>30.890323</td>
      <td>82.178571</td>
      <td>20.255172</td>
      <td>8.925000</td>
      <td>7.100000</td>
      <td>3.483871</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>  <span class="c1"># type: ignore</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span> <span class="c1"># type: ignore</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_main</span> <span class="o">=</span> <span class="n">merged_df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="data-main">
<h2>Data Main<a class="headerlink" href="#data-main" title="Link to this heading">#</a></h2>
<p>mari kita lihat hasil tren dataset</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_main</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 72 entries, 2018-01 to 2023-12
Data columns (total 9 columns):
 #   Column    Non-Null Count  Dtype  
---  ------    --------------  -----  
 0   Produksi  72 non-null     object 
 1   Tn        72 non-null     float64
 2   Tx        72 non-null     float64
 3   Tavg      72 non-null     float64
 4   RH_avg    72 non-null     float64
 5   RR        72 non-null     float64
 6   ss        72 non-null     float64
 7   ff_x      72 non-null     float64
 8   ff_avg    72 non-null     float64
dtypes: float64(8), object(1)
memory usage: 5.6+ KB
</pre></div>
</div>
</div>
</div>
<p>Keterangan :</p>
<ul class="simple">
<li><p>8888: data tidak terukur</p></li>
<li><p>9999: Tidak Ada Data (tidak dilakukan pengukuran)</p></li>
<li><p>Tn: Temperatur minimum (°C)</p></li>
<li><p>Tx: Temperatur maksimum (°C)</p></li>
<li><p>Tavg: Temperatur rata-rata (°C)</p></li>
<li><p>RH_avg: Kelembapan rata-rata (%)</p></li>
<li><p>RR: Curah hujan (mm)</p></li>
<li><p>ss: Lamanya penyinaran matahari (jam)</p></li>
<li><p>ff_x: Kecepatan angin maksimum (m/s)</p></li>
<li><p>ff_avg: Kecepatan angin rata-rata (m/s)</p></li>
<li><p>ddd_car: Arah angin terbanyak (°)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Membersihkan kolom Produksi</span>
<span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\ahmad\AppData\Local\Temp\ipykernel_5216\1238890838.py:2: FutureWarning: Downcasting behavior in `replace` is deprecated and will be removed in a future version. To retain the old behavior, explicitly call `result.infer_objects(copy=False)`. To opt-in to the future behavior, set `pd.set_option(&#39;future.no_silent_downcasting&#39;, True)`
  df_main[&#39;Produksi&#39;] = df_main[&#39;Produksi&#39;].replace(&#39;,&#39;, &#39;&#39;, regex=True).astype(float)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_main</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_main</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># Membuat subplot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="c1"># Plot untuk Produksi</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_main</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Produksi Padi&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tren Produksi Padi dari 2018 hingga 2023&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Produksi&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># Plot untuk Variabel Iklim</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_main</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;Tn&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tn&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_main</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;Tx&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tx&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_main</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;Tavg&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tavg&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_main</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;RH_avg&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;RH_avg&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_main</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;RR&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;RR&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;brown&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_main</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;ss&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ss&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;pink&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_main</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;ff_x&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ff_x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_main</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;ff_avg&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ff_avg&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tren Variabel Iklim dari 2018 hingga 2023&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Nilai&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ea03206f9654d57b0f54ddd0983341405a4f4ab8ec38eac1fc020ef10eccd4d5.png" src="_images/ea03206f9654d57b0f54ddd0983341405a4f4ab8ec38eac1fc020ef10eccd4d5.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_main</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Produksi</th>
      <th>Tn</th>
      <th>Tx</th>
      <th>Tavg</th>
      <th>RH_avg</th>
      <th>RR</th>
      <th>ss</th>
      <th>ff_x</th>
      <th>ff_avg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>645.999722</td>
      <td>25.472469</td>
      <td>33.943013</td>
      <td>28.910712</td>
      <td>75.485544</td>
      <td>5.119454</td>
      <td>6.392163</td>
      <td>5.371050</td>
      <td>2.305338</td>
    </tr>
    <tr>
      <th>std</th>
      <td>844.424487</td>
      <td>0.816777</td>
      <td>0.844170</td>
      <td>0.761956</td>
      <td>5.173377</td>
      <td>5.057597</td>
      <td>1.525237</td>
      <td>0.785035</td>
      <td>0.420066</td>
    </tr>
    <tr>
      <th>min</th>
      <td>12.230000</td>
      <td>23.156250</td>
      <td>32.433333</td>
      <td>27.560000</td>
      <td>64.766667</td>
      <td>0.000000</td>
      <td>3.153125</td>
      <td>4.000000</td>
      <td>1.656250</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>203.855000</td>
      <td>25.128024</td>
      <td>33.409532</td>
      <td>28.358096</td>
      <td>71.562500</td>
      <td>0.486541</td>
      <td>5.203906</td>
      <td>4.806452</td>
      <td>2.025000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>416.295000</td>
      <td>25.586667</td>
      <td>33.819167</td>
      <td>28.773081</td>
      <td>76.726919</td>
      <td>4.017742</td>
      <td>6.482258</td>
      <td>5.317540</td>
      <td>2.237903</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>714.045000</td>
      <td>26.045775</td>
      <td>34.385484</td>
      <td>29.335192</td>
      <td>80.361111</td>
      <td>9.436204</td>
      <td>7.525000</td>
      <td>5.942992</td>
      <td>2.567036</td>
    </tr>
    <tr>
      <th>max</th>
      <td>4568.320000</td>
      <td>27.170968</td>
      <td>36.022968</td>
      <td>30.890323</td>
      <td>82.178571</td>
      <td>20.255172</td>
      <td>8.925000</td>
      <td>7.100000</td>
      <td>3.483871</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_main</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
DatetimeIndex: 72 entries, 2018-01-01 to 2023-12-01
Data columns (total 9 columns):
 #   Column    Non-Null Count  Dtype  
---  ------    --------------  -----  
 0   Produksi  72 non-null     float64
 1   Tn        72 non-null     float64
 2   Tx        72 non-null     float64
 3   Tavg      72 non-null     float64
 4   RH_avg    72 non-null     float64
 5   RR        72 non-null     float64
 6   ss        72 non-null     float64
 7   ff_x      72 non-null     float64
 8   ff_avg    72 non-null     float64
dtypes: float64(9)
memory usage: 5.6 KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_main</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Produksi&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tren Produksi Padi Seiring Waktu&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Produksi&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>  <span class="c1"># Agar label tanggal terbaca dengan baik</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/cbdc6aa67e1872862c22a3a5a33faa355d8dd6d77efab5ee768639dd3ef086d1.png" src="_images/cbdc6aa67e1872862c22a3a5a33faa355d8dd6d77efab5ee768639dd3ef086d1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>


<span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># contamination adalah proporsi outlier</span>

<span class="n">outliers</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df_main</span><span class="p">[[</span><span class="s1">&#39;ff_avg&#39;</span><span class="p">,</span> <span class="s1">&#39;Tavg&#39;</span><span class="p">,</span> <span class="s1">&#39;Tn&#39;</span><span class="p">,</span> <span class="s1">&#39;ss&#39;</span><span class="p">,</span> <span class="s1">&#39;Produksi&#39;</span><span class="p">]])</span>

<span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;outlier&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">outliers</span>

<span class="n">outliers_detected</span> <span class="o">=</span> <span class="n">df_main</span><span class="p">[</span><span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;outlier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="n">df_main</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">outliers_detected</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Produksi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sebelum Interpolasi:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_main</span><span class="p">[[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>  <span class="c1"># Menampilkan 10 baris pertama</span>

<span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;polynomial&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># df_main[&#39;Produksi&#39;] = df_main[&#39;Produksi&#39;].interpolate(method=&#39;linear&#39;)</span>


<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Setelah Interpolasi:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_main</span><span class="p">[[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>  <span class="c1"># Menampilkan 10 baris pertama</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Data dengan Interpolasi&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">outliers_detected</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">outliers_detected</span><span class="p">[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Outliers Sebelum Interpolasi&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Interpolasi untuk Mengatasi Outliers (Polinomial Interpolation)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Index&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Produksi&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Sebelum Interpolasi:
            Produksi
Tanggal             
2018-01-01    387.78
2018-02-01    593.65
2018-03-01       NaN
2018-04-01    659.83
2018-05-01    284.12
2018-06-01    235.23
2018-07-01    908.55
2018-08-01       NaN
2018-09-01    753.98
2018-10-01    187.17

Setelah Interpolasi:
              Produksi
Tanggal               
2018-01-01   387.78000
2018-02-01   593.65000
2018-03-01   729.00983
2018-04-01   659.83000
2018-05-01   284.12000
2018-06-01   235.23000
2018-07-01   908.55000
2018-08-01  1105.62820
2018-09-01   753.98000
2018-10-01   187.17000
</pre></div>
</div>
<img alt="_images/29ef39a62488a2eea12c8aa82cf41fa49d64b7d97c80c03f8d9fc874bff298fd.png" src="_images/29ef39a62488a2eea12c8aa82cf41fa49d64b7d97c80c03f8d9fc874bff298fd.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_main</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
DatetimeIndex: 72 entries, 2018-01-01 to 2023-12-01
Data columns (total 10 columns):
 #   Column    Non-Null Count  Dtype  
---  ------    --------------  -----  
 0   Produksi  72 non-null     float64
 1   Tn        72 non-null     float64
 2   Tx        72 non-null     float64
 3   Tavg      72 non-null     float64
 4   RH_avg    72 non-null     float64
 5   RR        72 non-null     float64
 6   ss        72 non-null     float64
 7   ff_x      72 non-null     float64
 8   ff_avg    72 non-null     float64
 9   outlier   72 non-null     int32  
dtypes: float64(9), int32(1)
memory usage: 8.0 KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_main</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>  
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Produksi</th>
      <th>Tn</th>
      <th>Tx</th>
      <th>Tavg</th>
      <th>RH_avg</th>
      <th>RR</th>
      <th>ss</th>
      <th>ff_x</th>
      <th>ff_avg</th>
      <th>outlier</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
      <td>72.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>431.576852</td>
      <td>25.472469</td>
      <td>33.943013</td>
      <td>28.910712</td>
      <td>75.485544</td>
      <td>5.119454</td>
      <td>6.392163</td>
      <td>5.371050</td>
      <td>2.305338</td>
      <td>0.777778</td>
    </tr>
    <tr>
      <th>std</th>
      <td>307.532331</td>
      <td>0.816777</td>
      <td>0.844170</td>
      <td>0.761956</td>
      <td>5.173377</td>
      <td>5.057597</td>
      <td>1.525237</td>
      <td>0.785035</td>
      <td>0.420066</td>
      <td>0.632950</td>
    </tr>
    <tr>
      <th>min</th>
      <td>12.230000</td>
      <td>23.156250</td>
      <td>32.433333</td>
      <td>27.560000</td>
      <td>64.766667</td>
      <td>0.000000</td>
      <td>3.153125</td>
      <td>4.000000</td>
      <td>1.656250</td>
      <td>-1.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>195.955000</td>
      <td>25.128024</td>
      <td>33.409532</td>
      <td>28.358096</td>
      <td>71.562500</td>
      <td>0.486541</td>
      <td>5.203906</td>
      <td>4.806452</td>
      <td>2.025000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>346.187920</td>
      <td>25.586667</td>
      <td>33.819167</td>
      <td>28.773081</td>
      <td>76.726919</td>
      <td>4.017742</td>
      <td>6.482258</td>
      <td>5.317540</td>
      <td>2.237903</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>638.365000</td>
      <td>26.045775</td>
      <td>34.385484</td>
      <td>29.335192</td>
      <td>80.361111</td>
      <td>9.436204</td>
      <td>7.525000</td>
      <td>5.942992</td>
      <td>2.567036</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1252.200263</td>
      <td>27.170968</td>
      <td>36.022968</td>
      <td>30.890323</td>
      <td>82.178571</td>
      <td>20.255172</td>
      <td>8.925000</td>
      <td>7.100000</td>
      <td>3.483871</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_main</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Produksi&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tren Produksi Padi Seiring Waktu&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Produksi&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>  <span class="c1"># Agar label tanggal terbaca dengan baik</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/05b34d32225195552d2e60f1f8a0513d783ce8571ecbf73aac97694268c422dd.png" src="_images/05b34d32225195552d2e60f1f8a0513d783ce8571ecbf73aac97694268c422dd.png" />
</div>
</div>
</section>
<section id="seleksi-fitur-berdasarkan-korelasi">
<h2>Seleksi fitur berdasarkan korelasi<a class="headerlink" href="#seleksi-fitur-berdasarkan-korelasi" title="Link to this heading">#</a></h2>
<p>disini karena data time series univariate maka perlu dicari untuk korelasi fitur, saya akan menetapkan fitur dengan korelasi diatas 5 sebagai fitur yang akan dipakai</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Korelasi antar fitur dan target</span>
<span class="n">corr_matrix</span> <span class="o">=</span> <span class="n">df_main</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">corr_matrix</span><span class="p">[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">])</span>

<span class="c1"># Visualisasi heatmap korelasi</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">corr_matrix</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Heatmap Korelasi&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Produksi    1.000000
Tn         -0.296920
Tx         -0.139542
Tavg       -0.236221
RH_avg      0.001059
RR         -0.210896
ss          0.184120
ff_x        0.272847
ff_avg      0.118555
outlier    -0.252458
Name: Produksi, dtype: float64
</pre></div>
</div>
<img alt="_images/d8df640fcd6e14e3d7229bc2062b57dffbdcaa3780725160d4f71b212f8f0439.png" src="_images/d8df640fcd6e14e3d7229bc2062b57dffbdcaa3780725160d4f71b212f8f0439.png" />
</div>
</div>
<p>Hubungan Non-Linear: Korelasi Pearson hanya mengukur hubungan linear. Jika hubungan antara fitur cuaca dan produksi padi bersifat non-linear, korelasi Pearson tidak akan mendeteksinya dengan baik.</p>
<p>maka saya gunakan mutual information untuk mengidentifikasi hubungan non-linear antara fitur dan target.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.feature_selection</span> <span class="kn">import</span> <span class="n">mutual_info_regression</span>

<span class="n">mi_scores</span> <span class="o">=</span> <span class="n">mutual_info_regression</span><span class="p">(</span><span class="n">df_main</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">])</span> 
<span class="n">mi_scores</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">mi_scores</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">df_main</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="n">mi_scores</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Skor Mutual Information (Hubungan Non-Linear)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/843756d27063d1d63c2ec12dbf55d6295bcda8f8a2702dd65e63f9bb5a976314.png" src="_images/843756d27063d1d63c2ec12dbf55d6295bcda8f8a2702dd65e63f9bb5a976314.png" />
</div>
</div>
<p>maka fitur yang saya ambil yaitu :</p>
<ul class="simple">
<li><p>ff_avg</p></li>
<li><p>Tavg</p></li>
</ul>
</section>
<section id="normalisasi-data">
<h2>Normalisasi data<a class="headerlink" href="#normalisasi-data" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">df_main_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df_main</span><span class="p">)</span>
<span class="n">df_main</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_main_scaled</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">df_main</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="n">df_main</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Produksi</th>
      <th>Tn</th>
      <th>Tx</th>
      <th>Tavg</th>
      <th>RH_avg</th>
      <th>RR</th>
      <th>ss</th>
      <th>ff_x</th>
      <th>ff_avg</th>
      <th>outlier</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.302870</td>
      <td>0.509064</td>
      <td>0.139290</td>
      <td>0.208188</td>
      <td>0.987830</td>
      <td>0.396241</td>
      <td>0.037574</td>
      <td>0.064516</td>
      <td>0.060416</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.468898</td>
      <td>0.423664</td>
      <td>0.136968</td>
      <td>0.170661</td>
      <td>0.997949</td>
      <td>0.469192</td>
      <td>0.282234</td>
      <td>0.138249</td>
      <td>0.207627</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.578062</td>
      <td>0.529302</td>
      <td>0.387690</td>
      <td>0.323542</td>
      <td>0.975386</td>
      <td>0.473104</td>
      <td>0.308609</td>
      <td>0.020161</td>
      <td>0.034197</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.522271</td>
      <td>0.785633</td>
      <td>0.725589</td>
      <td>0.686068</td>
      <td>0.704565</td>
      <td>0.084270</td>
      <td>0.704124</td>
      <td>0.222469</td>
      <td>0.206954</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.219271</td>
      <td>0.708331</td>
      <td>0.608982</td>
      <td>0.554436</td>
      <td>0.454330</td>
      <td>0.003822</td>
      <td>0.725728</td>
      <td>0.489074</td>
      <td>0.311638</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>67</th>
      <td>0.408228</td>
      <td>0.238186</td>
      <td>0.210966</td>
      <td>0.150886</td>
      <td>0.270050</td>
      <td>0.000000</td>
      <td>0.886302</td>
      <td>0.967742</td>
      <td>0.991726</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>68</th>
      <td>0.104825</td>
      <td>0.323457</td>
      <td>0.426557</td>
      <td>0.291941</td>
      <td>0.065275</td>
      <td>0.015926</td>
      <td>0.920778</td>
      <td>0.957336</td>
      <td>1.000000</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>69</th>
      <td>0.076824</td>
      <td>0.837024</td>
      <td>0.860812</td>
      <td>0.851769</td>
      <td>0.000000</td>
      <td>0.001646</td>
      <td>0.940227</td>
      <td>1.000000</td>
      <td>0.862916</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>70</th>
      <td>0.111777</td>
      <td>1.000000</td>
      <td>0.870487</td>
      <td>0.962224</td>
      <td>0.235718</td>
      <td>0.196286</td>
      <td>0.661456</td>
      <td>0.478668</td>
      <td>0.452841</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>71</th>
      <td>0.011178</td>
      <td>0.847662</td>
      <td>0.733304</td>
      <td>0.774887</td>
      <td>0.440551</td>
      <td>0.288969</td>
      <td>0.540336</td>
      <td>0.292339</td>
      <td>0.222284</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
<p>72 rows × 10 columns</p>
</div></div></div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="data-modelling">
<h1>Data Modelling<a class="headerlink" href="#data-modelling" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selected_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ff_avg&#39;</span><span class="p">,</span><span class="s1">&#39;Tavg&#39;</span><span class="p">,</span> <span class="s1">&#39;Produksi&#39;</span><span class="p">]</span>

<span class="n">df_selected</span> <span class="o">=</span> <span class="n">df_main</span><span class="p">[</span><span class="n">selected_columns</span><span class="p">]</span>

<span class="n">df_selected</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ff_avg</th>
      <th>Tavg</th>
      <th>Produksi</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.060416</td>
      <td>0.208188</td>
      <td>0.302870</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.207627</td>
      <td>0.170661</td>
      <td>0.468898</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.034197</td>
      <td>0.323542</td>
      <td>0.578062</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.206954</td>
      <td>0.686068</td>
      <td>0.522271</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.311638</td>
      <td>0.554436</td>
      <td>0.219271</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>67</th>
      <td>0.991726</td>
      <td>0.150886</td>
      <td>0.408228</td>
    </tr>
    <tr>
      <th>68</th>
      <td>1.000000</td>
      <td>0.291941</td>
      <td>0.104825</td>
    </tr>
    <tr>
      <th>69</th>
      <td>0.862916</td>
      <td>0.851769</td>
      <td>0.076824</td>
    </tr>
    <tr>
      <th>70</th>
      <td>0.452841</td>
      <td>0.962224</td>
      <td>0.111777</td>
    </tr>
    <tr>
      <th>71</th>
      <td>0.222284</td>
      <td>0.774887</td>
      <td>0.011178</td>
    </tr>
  </tbody>
</table>
<p>72 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_selected</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 72 entries, 0 to 71
Data columns (total 3 columns):
 #   Column    Non-Null Count  Dtype  
---  ------    --------------  -----  
 0   ff_avg    72 non-null     float64
 1   Tavg      72 non-null     float64
 2   Produksi  72 non-null     float64
dtypes: float64(3)
memory usage: 1.8 KB
</pre></div>
</div>
</div>
</div>
<section id="persiapan-data-train-dan-data-test">
<h2>Persiapan data Train dan data Test<a class="headerlink" href="#persiapan-data-train-dan-data-test" title="Link to this heading">#</a></h2>
<p>Pisahkan kolom Produksi sebagai target (label), dan kolom lainnya sebagai fitur (features).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">df_selected</span><span class="p">[[</span><span class="s1">&#39;ff_avg&#39;</span><span class="p">,</span><span class="s1">&#39;Tavg&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_selected</span><span class="p">[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Pisahkan data menjadi training dan testing set untuk melatih dan menguji model menjadi 80% train, 20% test</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ukuran data training:&quot;</span><span class="p">,</span> <span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ukuran data testing:&quot;</span><span class="p">,</span> <span class="n">X_test</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ukuran data training: (57, 2)
Ukuran data testing: (15, 2)
</pre></div>
</div>
</div>
</div>
<p>disini saya menggunakan MAPE dan RMSE untuk melihat error pada model</p>
<p>MAPE (Mean Absolute Percentage Error)</p>
<p>Penjelasan
MAPE adalah metrik untuk mengevaluasi performa model prediksi dengan menghitung rata-rata kesalahan absolut dalam bentuk persentase terhadap nilai aktual.</p>
<p>Rumusnya:</p>
<div class="math notranslate nohighlight">
\[
\text{MAPE} = \frac{1}{n} \sum\_{i=1}^{n} \left| \frac{y_i - \hat{y}\_i}{y_i} \right| \times 100\%
\]</div>
<p>Komponen:</p>
<ul class="simple">
<li><p>( y_i ): Nilai aktual.</p></li>
<li><p>( \hat{y}_i ): Nilai prediksi.</p></li>
<li><p>( n ): Jumlah data.</p></li>
</ul>
<p>Contoh:
Misalkan kita memiliki data berikut:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>(y_i) (Aktual)</p></th>
<th class="head"><p>(\hat{y}_i) (Prediksi)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>100</p></td>
<td><p>110</p></td>
</tr>
<tr class="row-odd"><td><p>200</p></td>
<td><p>180</p></td>
</tr>
<tr class="row-even"><td><p>300</p></td>
<td><p>310</p></td>
</tr>
</tbody>
</table>
<p>Langkah Perhitungan:</p>
<ol class="arabic">
<li><p>Hitung kesalahan absolut persentase:</p>
<div class="math notranslate nohighlight">
\[
   \text{Error}\_1 = \left| \frac{100 - 110}{100} \right| \times 100 = 10\%
   \]</div>
<div class="math notranslate nohighlight">
\[
   \text{Error}\_2 = \left| \frac{200 - 180}{200} \right| \times 100 = 10\%
   \]</div>
<div class="math notranslate nohighlight">
\[
   \text{Error}\_3 = \left| \frac{300 - 310}{300} \right| \times 100 = 3.33\%
   \]</div>
</li>
<li><p>Hitung rata-rata kesalahan absolut persentase:
$<span class="math notranslate nohighlight">\(
\text{MAPE} = \frac{10 + 10 + 3.33}{3} = 7.78\%
\)</span>$</p></li>
</ol>
<p>Hasil:
MAPE untuk data ini adalah <strong>7.78%</strong>.</p>
<hr class="docutils" />
<p>RMSE (Root Mean Squared Error)</p>
<p>Penjelasan
RMSE adalah metrik yang mengukur akar rata-rata kesalahan kuadrat antara nilai aktual dan prediksi. RMSE sangat sensitif terhadap kesalahan besar, sehingga cocok digunakan jika kesalahan besar memiliki dampak signifikan.</p>
<p>Rumusnya:</p>
<div class="math notranslate nohighlight">
\[
\text{RMSE} = \sqrt{\frac{1}{n} \sum\_{i=1}^{n} (y_i - \hat{y}\_i)^2}
\]</div>
<p>Komponen:</p>
<ul class="simple">
<li><p>( y_i ): Nilai aktual.</p></li>
<li><p>( \hat{y}_i ): Nilai prediksi.</p></li>
<li><p>( n ): Jumlah data.</p></li>
</ul>
<p>Contoh:
Menggunakan data yang sama seperti di atas:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>(y_i) (Aktual)</p></th>
<th class="head"><p>(\hat{y}_i) (Prediksi)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>100</p></td>
<td><p>110</p></td>
</tr>
<tr class="row-odd"><td><p>200</p></td>
<td><p>180</p></td>
</tr>
<tr class="row-even"><td><p>300</p></td>
<td><p>310</p></td>
</tr>
</tbody>
</table>
<p>Langkah Perhitungan:</p>
<ol class="arabic">
<li><p>Hitung kesalahan kuadrat:</p>
<div class="math notranslate nohighlight">
\[
   \text{Error}\_1 = (100 - 110)^2 = 100
   \]</div>
<div class="math notranslate nohighlight">
\[
   \text{Error}\_2 = (200 - 180)^2 = 400
   \]</div>
<div class="math notranslate nohighlight">
\[
   \text{Error}\_3 = (300 - 310)^2 = 100
   \]</div>
</li>
<li><p>Hitung rata-rata kesalahan kuadrat:</p>
<div class="math notranslate nohighlight">
\[
   \text{Mean Squared Error (MSE)} = \frac{100 + 400 + 100}{3} = 200
   \]</div>
</li>
<li><p>Hitung akar kuadrat rata-rata:
$<span class="math notranslate nohighlight">\(
\text{RMSE} = \sqrt{200} = 14.14
\)</span>$</p></li>
</ol>
<p>Hasil:
RMSE untuk data ini adalah <strong>14.14</strong>.</p>
<hr class="docutils" />
<p>Perbandingan MAPE dan RMSE</p>
<ul class="simple">
<li><p><strong>MAPE</strong> memberikan kesalahan dalam bentuk persentase, sehingga lebih mudah dipahami dalam konteks bisnis.</p></li>
<li><p><strong>RMSE</strong> lebih sensitif terhadap kesalahan besar, sehingga baik untuk mendeteksi model dengan prediksi buruk pada data tertentu.</p></li>
</ul>
<p>Keduanya dapat digunakan bersamaan untuk mengevaluasi performa model prediksi.</p>
</section>
<section id="model">
<h2>Model<a class="headerlink" href="#model" title="Link to this heading">#</a></h2>
<section id="random-forest-regressor">
<h3>1. Random Forest Regressor<a class="headerlink" href="#random-forest-regressor" title="Link to this heading">#</a></h3>
<p>Random Forest</p>
<p>Penjelasan
<strong>Random Forest</strong> adalah algoritma pembelajaran ensemble yang menggabungkan banyak <em>decision trees</em> untuk membuat prediksi yang lebih akurat dan stabil. Ini digunakan untuk tugas regresi maupun klasifikasi.</p>
<p>Konsep Utama:</p>
<ol class="arabic simple">
<li><p><strong>Ensemble Learning</strong>: Menggabungkan prediksi dari banyak model (dalam hal ini, decision trees) untuk meningkatkan akurasi.</p></li>
<li><p><strong>Bagging (Bootstrap Aggregating)</strong>: Menggunakan subset acak dari data untuk melatih setiap decision tree.</p></li>
<li><p><strong>Random Feature Selection</strong>: Setiap tree hanya mempertimbangkan subset fitur yang dipilih secara acak saat membuat split, sehingga menghasilkan variasi antar pohon.</p></li>
</ol>
<p>Proses Random Forest:</p>
<ol class="arabic simple">
<li><p>Membuat <em>bootstrap samples</em> dari data pelatihan (dengan penggantian).</p></li>
<li><p>Melatih setiap decision tree pada satu <em>bootstrap sample</em>.</p></li>
<li><p>Untuk prediksi:</p>
<ul class="simple">
<li><p><strong>Klasifikasi</strong>: Menggunakan <em>majority vote</em> (prediksi yang paling sering muncul di antara semua pohon).</p></li>
<li><p><strong>Regresi</strong>: Mengambil rata-rata prediksi dari semua pohon.</p></li>
</ul>
</li>
</ol>
<hr class="docutils" />
<p>Rumus Utama
Untuk Klasifikasi:
Prediksi akhir diberikan oleh <em>majority vote</em>:</p>
<div class="math notranslate nohighlight">
\[
\hat{y} = \text{mode} \{ T_1(x), T_2(x), \dots, T_k(x) \}
\]</div>
<ul class="simple">
<li><p>( T_k(x) ): Prediksi dari pohon ke-(k).</p></li>
<li><p>(\text{mode}): Nilai yang paling sering muncul di antara prediksi semua pohon.</p></li>
</ul>
<p>Untuk Regresi:
Prediksi akhir diberikan oleh rata-rata prediksi semua pohon:</p>
<div class="math notranslate nohighlight">
\[
\hat{y} = \frac{1}{k} \sum_{i=1}^{k} T_i(x)
\]</div>
<ul class="simple">
<li><p>( T_k(x) ): Prediksi dari pohon ke-(k).</p></li>
<li><p>( k ): Jumlah pohon dalam hutan.</p></li>
</ul>
<hr class="docutils" />
<p>Contoh:
Misalkan kita memiliki dataset dengan fitur seperti <strong>Jumlah Studi</strong> dan <strong>Nilai Ujian</strong> untuk memprediksi apakah seorang siswa lulus atau tidak.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Jam Studi</p></th>
<th class="head"><p>Nilai Ujian</p></th>
<th class="head"><p>Lulus (Ya/Tidak)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>5</p></td>
<td><p>80</p></td>
<td><p>Ya</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>50</p></td>
<td><p>Tidak</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>60</p></td>
<td><p>Ya</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>30</p></td>
<td><p>Tidak</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>70</p></td>
<td><p>Ya</p></td>
</tr>
</tbody>
</table>
<ol class="arabic">
<li><p><strong>Bootstrap Sampling</strong>:
Buat subset acak dengan penggantian, misalnya:</p>
<ul class="simple">
<li><p>Tree 1: Data ke-1, ke-2, ke-3.</p></li>
<li><p>Tree 2: Data ke-2, ke-4, ke-5.</p></li>
</ul>
</li>
<li><p><strong>Latih Decision Trees</strong>:
Setiap pohon dilatih menggunakan subset yang berbeda dengan pemilihan fitur acak.</p></li>
<li><p><strong>Prediksi</strong>:</p>
<ul class="simple">
<li><p>Pohon 1: Prediksi “Ya”.</p></li>
<li><p>Pohon 2: Prediksi “Tidak”.</p></li>
<li><p>Pohon 3: Prediksi “Ya”.</p></li>
</ul>
<p>Dengan <em>majority vote</em>, prediksi akhir adalah <strong>“Ya”</strong>.</p>
</li>
</ol>
<p>Random Forest Regressor</p>
<p>Penjelasan
<strong>Random Forest Regressor</strong> adalah varian dari algoritma Random Forest yang digunakan untuk memprediksi nilai kontinu dalam tugas regresi. Sama seperti Random Forest untuk klasifikasi, algoritma ini bekerja dengan menggabungkan banyak <em>decision trees</em> menggunakan teknik <em>bagging</em> (bootstrap aggregating). Setiap pohon memberikan prediksi, dan prediksi akhir diperoleh dengan mengambil rata-rata prediksi dari semua pohon.</p>
<hr class="docutils" />
<p>Rumus
Dalam regresi, prediksi akhir ((\hat{y})) diberikan oleh rata-rata dari semua prediksi pohon ((T_k(x))):</p>
<div class="math notranslate nohighlight">
\[
\hat{y} = \frac{1}{k} \sum_{i=1}^{k} T_i(x)
\]</div>
<ul class="simple">
<li><p>( T_k(x) ): Prediksi dari pohon ke-(k) untuk input (x).</p></li>
<li><p>( k ): Jumlah pohon dalam hutan.</p></li>
</ul>
<p>Proses:</p>
<ol class="arabic simple">
<li><p><strong>Bootstrap Sampling</strong>: Membuat subset acak dari data pelatihan dengan penggantian untuk melatih setiap decision tree.</p></li>
<li><p><strong>Random Feature Selection</strong>: Setiap pohon hanya menggunakan subset fitur acak untuk membuat split.</p></li>
<li><p><strong>Prediksi</strong>:</p>
<ul class="simple">
<li><p>Setiap pohon memberikan prediksi untuk input data.</p></li>
<li><p>Rata-rata semua prediksi pohon diambil untuk menentukan hasil akhir.</p></li>
</ul>
</li>
</ol>
<hr class="docutils" />
<p>Contoh:
Misalkan kita memiliki data berikut:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Fitur 1 (Area)</p></th>
<th class="head"><p>Fitur 2 (Kamar)</p></th>
<th class="head"><p>Harga Rumah</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>120</p></td>
<td><p>3</p></td>
<td><p>500</p></td>
</tr>
<tr class="row-odd"><td><p>150</p></td>
<td><p>4</p></td>
<td><p>600</p></td>
</tr>
<tr class="row-even"><td><p>200</p></td>
<td><p>5</p></td>
<td><p>750</p></td>
</tr>
<tr class="row-odd"><td><p>100</p></td>
<td><p>2</p></td>
<td><p>400</p></td>
</tr>
<tr class="row-even"><td><p>180</p></td>
<td><p>4</p></td>
<td><p>700</p></td>
</tr>
</tbody>
</table>
<p>Kita ingin memprediksi harga rumah untuk sebuah rumah dengan <strong>Area = 130</strong> dan <strong>Kamar = 3</strong>.</p>
<p>Langkah:</p>
<ol class="arabic">
<li><p><strong>Bootstrap Sampling</strong>:</p>
<ul class="simple">
<li><p>Pohon 1 dilatih dengan data ke-1, ke-2, dan ke-3.</p></li>
<li><p>Pohon 2 dilatih dengan data ke-2, ke-4, dan ke-5.</p></li>
</ul>
</li>
<li><p><strong>Latih Decision Trees</strong>: Setiap pohon menghasilkan model regresi sederhana.</p></li>
<li><p><strong>Prediksi</strong>:</p>
<ul class="simple">
<li><p>Pohon 1 memprediksi: 520</p></li>
<li><p>Pohon 2 memprediksi: 530</p></li>
<li><p>Pohon 3 memprediksi: 500</p></li>
</ul>
<p>Prediksi akhir:</p>
<div class="math notranslate nohighlight">
\[
   \hat{y} = \frac{520 + 530 + 500}{3} = 516.67
   \]</div>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">mean_absolute_percentage_error</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Inisialisasi dan fit model Random Forest</span>
<span class="n">model_rf</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>  <span class="c1"># n_estimators dan max_depth dikurangi</span>
<span class="n">model_rf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Prediksi pada data test</span>
<span class="n">y_pred_rf</span> <span class="o">=</span> <span class="n">model_rf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Evaluasi performa menggunakan RMSE dan MAPE</span>
<span class="n">rmse_rf</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_rf</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">mape_rf</span> <span class="o">=</span> <span class="n">mean_absolute_percentage_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_rf</span><span class="p">)</span>

<span class="c1"># Menampilkan hasil evaluasi</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;RMSE (Random Forest): </span><span class="si">{</span><span class="n">rmse_rf</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MAPE (Random Forest): </span><span class="si">{</span><span class="n">mape_rf</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>

<span class="c1"># Visualisasi perbandingan antara nilai aktual dan prediksi</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Actual&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_pred_rf</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Predicted&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Perbandingan Actual vs Predicted Produksi Padi (Random Forest)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Index&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Produksi Padi&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>e:\apps\anaconda3\envs\MLEnv\Lib\site-packages\sklearn\metrics\_regression.py:492: FutureWarning: &#39;squared&#39; is deprecated in version 1.4 and will be removed in 1.6. To calculate the root mean squared error, use the function&#39;root_mean_squared_error&#39;.
  warnings.warn(
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RMSE (Random Forest): 0.3276478251299928
MAPE (Random Forest): 62.01%
</pre></div>
</div>
<img alt="_images/60aaa66d65ed981b78d033739e78a9251f78550244e98216c9a9589818ee1b65.png" src="_images/60aaa66d65ed981b78d033739e78a9251f78550244e98216c9a9589818ee1b65.png" />
</div>
</div>
</section>
<section id="linear-regression">
<h3>2. Linear Regression<a class="headerlink" href="#linear-regression" title="Link to this heading">#</a></h3>
<p>Linear Regression</p>
<p>Penjelasan
Linear regression adalah metode statistik yang digunakan untuk memodelkan hubungan antara satu atau lebih variabel independen ((x)) dan variabel dependen ((y)) dengan menggunakan persamaan garis lurus.</p>
<p>Model regresi linier sederhana dapat dinyatakan sebagai:</p>
<div class="math notranslate nohighlight">
\[
y = mx + b
\]</div>
<p>atau dalam bentuk yang lebih umum:</p>
<div class="math notranslate nohighlight">
\[
y = \beta_0 + \beta_1 x + \epsilon
\]</div>
<p>Komponen:</p>
<ul class="simple">
<li><p>( y ): Variabel dependen (target atau output).</p></li>
<li><p>( x ): Variabel independen (prediktor atau input).</p></li>
<li><p>( \beta_0 ): Intersep (nilai ( y ) saat ( x = 0 )).</p></li>
<li><p>( \beta_1 ): Koefisien kemiringan (slope) yang menunjukkan seberapa besar ( y ) berubah untuk setiap unit perubahan ( x ).</p></li>
<li><p>( \epsilon ): Galat (error) atau noise, yaitu deviasi nilai aktual dari nilai prediksi.</p></li>
</ul>
<p>Rumus Koefisien
Untuk regresi linier sederhana, koefisien kemiringan (( \beta_1 )) dan intersep (( \beta_0 )) dapat dihitung dengan rumus berikut:</p>
<div class="math notranslate nohighlight">
\[
\beta_1 = \frac{\sum (x_i - \bar{x})(y_i - \bar{y})}{\sum (x_i - \bar{x})^2}
\]</div>
<div class="math notranslate nohighlight">
\[
\beta_0 = \bar{y} - \beta_1 \bar{x}
\]</div>
<p>Contoh:
Misalkan kita memiliki data berikut:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>(x)</p></th>
<th class="head"><p>(y)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
<p>Langkah 1: Hitung Mean</p>
<div class="math notranslate nohighlight">
\[
\bar{x} = \frac{1 + 2 + 3}{3} = 2, \quad \bar{y} = \frac{2 + 3 + 5}{3} = 3.33
\]</div>
<p>Langkah 2: Hitung (\beta_1)</p>
<div class="math notranslate nohighlight">
\[
\beta_1 = \frac{(1 - 2)(2 - 3.33) + (2 - 2)(3 - 3.33) + (3 - 2)(5 - 3.33)}{(1 - 2)^2 + (2 - 2)^2 + (3 - 2)^2}
\]</div>
<div class="math notranslate nohighlight">
\[
\beta_1 = \frac{(-1)(-1.33) + (0)(-0.33) + (1)(1.67)}{1 + 0 + 1}
\]</div>
<div class="math notranslate nohighlight">
\[
\beta_1 = \frac{1.33 + 0 + 1.67}{2} = 1.5
\]</div>
<p>Langkah 3: Hitung (\beta_0)</p>
<div class="math notranslate nohighlight">
\[
\beta_0 = \bar{y} - \beta_1 \bar{x}
\]</div>
<div class="math notranslate nohighlight">
\[
\beta_0 = 3.33 - (1.5)(2) = 0.33
\]</div>
<p>Hasil:
Persamaan regresi linier:</p>
<div class="math notranslate nohighlight">
\[
y = 1.5x + 0.33
\]</div>
<p>Interpretasi:</p>
<ul class="simple">
<li><p>Untuk setiap peningkatan (x) sebesar 1 unit, (y) meningkat sebesar 1.5 unit.</p></li>
<li><p>Saat (x = 0), (y) diprediksi bernilai 0.33.</p></li>
</ul>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">mean_absolute_percentage_error</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">model_lr</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
<span class="n">model_lr</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="n">y_pred_lr</span> <span class="o">=</span> <span class="n">model_lr</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">rmse_lr</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_lr</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">mape_lr</span> <span class="o">=</span> <span class="n">mean_absolute_percentage_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_lr</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;RMSE (Linear Regression): </span><span class="si">{</span><span class="n">rmse_lr</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MAPE (Linear Regression): </span><span class="si">{</span><span class="n">mape_lr</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Actual&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_pred_lr</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Predicted&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Perbandingan Actual vs Predicted Produksi Padi (Linear Regression)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Index&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Produksi Padi&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RMSE (Linear Regression): 0.272465837501742
MAPE (Linear Regression): 57.36%
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>e:\apps\anaconda3\envs\MLEnv\Lib\site-packages\sklearn\metrics\_regression.py:492: FutureWarning: &#39;squared&#39; is deprecated in version 1.4 and will be removed in 1.6. To calculate the root mean squared error, use the function&#39;root_mean_squared_error&#39;.
  warnings.warn(
</pre></div>
</div>
<img alt="_images/79c901cb42a784e541dd90a11088859a2df1957972f334ad3f126a6c4816e1dd.png" src="_images/79c901cb42a784e541dd90a11088859a2df1957972f334ad3f126a6c4816e1dd.png" />
</div>
</div>
</section>
<section id="lstm">
<h3>3. LSTM<a class="headerlink" href="#lstm" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">mean_absolute_percentage_error</span>
<span class="kn">from</span> <span class="nn">tensorflow.keras.models</span> <span class="kn">import</span> <span class="n">Sequential</span> <span class="c1"># type: ignore</span>
<span class="kn">from</span> <span class="nn">tensorflow.keras.layers</span> <span class="kn">import</span> <span class="n">LSTM</span><span class="p">,</span> <span class="n">Dense</span> <span class="c1"># type: ignore</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>


<span class="n">X</span> <span class="o">=</span> <span class="n">df_main</span><span class="p">[[</span><span class="s1">&#39;ff_avg&#39;</span><span class="p">,</span> <span class="s1">&#39;Tavg&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_main</span><span class="p">[</span><span class="s1">&#39;Produksi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="n">scaler_X</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">scaler_y</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">X_scaled</span> <span class="o">=</span> <span class="n">scaler_X</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>


<span class="n">y_scaled</span> <span class="o">=</span> <span class="n">scaler_y</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span> 


<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X_scaled</span><span class="p">,</span> <span class="n">y_scaled</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="n">X_train_lstm</span> <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">X_test_lstm</span> <span class="o">=</span> <span class="n">X_test</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">X_test</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="n">X_test</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

<span class="n">model_lstm</span> <span class="o">=</span> <span class="n">Sequential</span><span class="p">()</span>
<span class="n">model_lstm</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">LSTM</span><span class="p">(</span><span class="n">units</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">return_sequences</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="n">X_train_lstm</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">X_train_lstm</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">])))</span>
<span class="n">model_lstm</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dense</span><span class="p">(</span><span class="n">units</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>


<span class="n">model_lstm</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;adam&#39;</span><span class="p">,</span> <span class="n">loss</span><span class="o">=</span><span class="s1">&#39;mean_squared_error&#39;</span><span class="p">)</span>


<span class="n">history</span> <span class="o">=</span> <span class="n">model_lstm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_lstm</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">epochs</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">validation_data</span><span class="o">=</span><span class="p">(</span><span class="n">X_test_lstm</span><span class="p">,</span> <span class="n">y_test</span><span class="p">),</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">y_pred_lstm_scaled</span> <span class="o">=</span> <span class="n">model_lstm</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_lstm</span><span class="p">)</span>

<span class="n">y_pred_lstm</span> <span class="o">=</span> <span class="n">scaler_y</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_pred_lstm_scaled</span><span class="p">)</span>
<span class="n">y_test_actual</span> <span class="o">=</span> <span class="n">scaler_y</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>


<span class="n">rmse_lstm</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test_actual</span><span class="p">,</span> <span class="n">y_pred_lstm</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">mape_lstm</span> <span class="o">=</span> <span class="n">mean_absolute_percentage_error</span><span class="p">(</span><span class="n">y_test_actual</span><span class="p">,</span> <span class="n">y_pred_lstm</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;RMSE (LSTM): </span><span class="si">{</span><span class="n">rmse_lstm</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MAPE (LSTM): </span><span class="si">{</span><span class="n">mape_lstm</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_test_actual</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Actual&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_pred_lstm</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Predicted&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Perbandingan Actual vs Predicted Produksi Padi (LSTM)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Index&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Produksi Padi&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Epoch 1/150
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>e:\apps\anaconda3\envs\MLEnv\Lib\site-packages\keras\src\layers\rnn\rnn.py:200: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(**kwargs)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">2s</span> 93ms/step - loss: 0.1810 - val_loss: 0.2205
Epoch 2/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.1575 - val_loss: 0.2045
Epoch 3/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.1376 - val_loss: 0.1891
Epoch 4/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.1178 - val_loss: 0.1747
Epoch 5/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0986 - val_loss: 0.1615
Epoch 6/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.1103 - val_loss: 0.1492
Epoch 7/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 26ms/step - loss: 0.0971 - val_loss: 0.1379
Epoch 8/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0653 - val_loss: 0.1280
Epoch 9/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0707 - val_loss: 0.1190
Epoch 10/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0682 - val_loss: 0.1112
Epoch 11/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0691 - val_loss: 0.1044
Epoch 12/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0633 - val_loss: 0.0993
Epoch 13/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0602 - val_loss: 0.0949
Epoch 14/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0576 - val_loss: 0.0914
Epoch 15/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0479 - val_loss: 0.0887
Epoch 16/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0528 - val_loss: 0.0866
Epoch 17/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 26ms/step - loss: 0.0602 - val_loss: 0.0850
Epoch 18/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0558 - val_loss: 0.0842
Epoch 19/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0591 - val_loss: 0.0835
Epoch 20/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0597 - val_loss: 0.0831
Epoch 21/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0675 - val_loss: 0.0830
Epoch 22/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0659 - val_loss: 0.0830
Epoch 23/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0651 - val_loss: 0.0834
Epoch 24/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0632 - val_loss: 0.0835
Epoch 25/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0632 - val_loss: 0.0836
Epoch 26/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 26ms/step - loss: 0.0623 - val_loss: 0.0835
Epoch 27/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0580 - val_loss: 0.0833
Epoch 28/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0581 - val_loss: 0.0832
Epoch 29/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0613 - val_loss: 0.0829
Epoch 30/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0591 - val_loss: 0.0829
Epoch 31/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0574 - val_loss: 0.0826
Epoch 32/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0619 - val_loss: 0.0821
Epoch 33/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0597 - val_loss: 0.0818
Epoch 34/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0491 - val_loss: 0.0816
Epoch 35/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0541 - val_loss: 0.0809
Epoch 36/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0593 - val_loss: 0.0805
Epoch 37/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0652 - val_loss: 0.0802
Epoch 38/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 26ms/step - loss: 0.0658 - val_loss: 0.0802
Epoch 39/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0626 - val_loss: 0.0804
Epoch 40/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0622 - val_loss: 0.0804
Epoch 41/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0599 - val_loss: 0.0806
Epoch 42/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0501 - val_loss: 0.0805
Epoch 43/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0574 - val_loss: 0.0799
Epoch 44/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0637 - val_loss: 0.0795
Epoch 45/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0581 - val_loss: 0.0796
Epoch 46/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0618 - val_loss: 0.0795
Epoch 47/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0560 - val_loss: 0.0792
Epoch 48/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0626 - val_loss: 0.0788
Epoch 49/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0577 - val_loss: 0.0785
Epoch 50/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 26ms/step - loss: 0.0588 - val_loss: 0.0782
Epoch 51/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0588 - val_loss: 0.0784
Epoch 52/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0600 - val_loss: 0.0785
Epoch 53/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0583 - val_loss: 0.0787
Epoch 54/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0634 - val_loss: 0.0783
Epoch 55/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0580 - val_loss: 0.0779
Epoch 56/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0499 - val_loss: 0.0778
Epoch 57/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0584 - val_loss: 0.0775
Epoch 58/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0465 - val_loss: 0.0773
Epoch 59/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0535 - val_loss: 0.0771
Epoch 60/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0649 - val_loss: 0.0769
Epoch 61/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0625 - val_loss: 0.0767
Epoch 62/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0550 - val_loss: 0.0769
Epoch 63/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0638 - val_loss: 0.0769
Epoch 64/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0623 - val_loss: 0.0770
Epoch 65/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 31ms/step - loss: 0.0519 - val_loss: 0.0768
Epoch 66/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0521 - val_loss: 0.0767
Epoch 67/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 26ms/step - loss: 0.0523 - val_loss: 0.0766
Epoch 68/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0589 - val_loss: 0.0763
Epoch 69/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0598 - val_loss: 0.0758
Epoch 70/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0627 - val_loss: 0.0758
Epoch 71/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0597 - val_loss: 0.0764
Epoch 72/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0573 - val_loss: 0.0767
Epoch 73/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0642 - val_loss: 0.0770
Epoch 74/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0554 - val_loss: 0.0772
Epoch 75/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0592 - val_loss: 0.0772
Epoch 76/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0560 - val_loss: 0.0765
Epoch 77/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0537 - val_loss: 0.0760
Epoch 78/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0546 - val_loss: 0.0757
Epoch 79/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0509 - val_loss: 0.0756
Epoch 80/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0555 - val_loss: 0.0761
Epoch 81/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 27ms/step - loss: 0.0517 - val_loss: 0.0761
Epoch 82/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0474 - val_loss: 0.0760
Epoch 83/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0583 - val_loss: 0.0756
Epoch 84/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0524 - val_loss: 0.0755
Epoch 85/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0501 - val_loss: 0.0758
Epoch 86/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0509 - val_loss: 0.0751
Epoch 87/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0559 - val_loss: 0.0751
Epoch 88/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0541 - val_loss: 0.0744
Epoch 89/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0556 - val_loss: 0.0747
Epoch 90/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0560 - val_loss: 0.0743
Epoch 91/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0519 - val_loss: 0.0738
Epoch 92/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0502 - val_loss: 0.0741
Epoch 93/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0521 - val_loss: 0.0746
Epoch 94/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0622 - val_loss: 0.0745
Epoch 95/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0525 - val_loss: 0.0748
Epoch 96/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0567 - val_loss: 0.0749
Epoch 97/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0527 - val_loss: 0.0756
Epoch 98/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0507 - val_loss: 0.0757
Epoch 99/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 26ms/step - loss: 0.0546 - val_loss: 0.0754
Epoch 100/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0575 - val_loss: 0.0756
Epoch 101/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 26ms/step - loss: 0.0486 - val_loss: 0.0756
Epoch 102/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0563 - val_loss: 0.0755
Epoch 103/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0576 - val_loss: 0.0749
Epoch 104/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0560 - val_loss: 0.0745
Epoch 105/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0582 - val_loss: 0.0741
Epoch 106/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0637 - val_loss: 0.0744
Epoch 107/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0463 - val_loss: 0.0753
Epoch 108/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0518 - val_loss: 0.0752
Epoch 109/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0549 - val_loss: 0.0752
Epoch 110/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0471 - val_loss: 0.0751
Epoch 111/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0507 - val_loss: 0.0743
Epoch 112/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0593 - val_loss: 0.0742
Epoch 113/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0512 - val_loss: 0.0740
Epoch 114/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0529 - val_loss: 0.0740
Epoch 115/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0553 - val_loss: 0.0744
Epoch 116/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0616 - val_loss: 0.0744
Epoch 117/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0547 - val_loss: 0.0748
Epoch 118/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0508 - val_loss: 0.0749
Epoch 119/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0527 - val_loss: 0.0748
Epoch 120/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0587 - val_loss: 0.0747
Epoch 121/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0548 - val_loss: 0.0745
Epoch 122/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 27ms/step - loss: 0.0547 - val_loss: 0.0746
Epoch 123/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0536 - val_loss: 0.0744
Epoch 124/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0535 - val_loss: 0.0744
Epoch 125/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0584 - val_loss: 0.0743
Epoch 126/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0500 - val_loss: 0.0740
Epoch 127/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0555 - val_loss: 0.0739
Epoch 128/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0509 - val_loss: 0.0737
Epoch 129/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0560 - val_loss: 0.0735
Epoch 130/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0550 - val_loss: 0.0733
Epoch 131/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0521 - val_loss: 0.0738
Epoch 132/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0583 - val_loss: 0.0736
Epoch 133/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 22ms/step - loss: 0.0473 - val_loss: 0.0744
Epoch 134/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0513 - val_loss: 0.0741
Epoch 135/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0570 - val_loss: 0.0739
Epoch 136/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0625 - val_loss: 0.0743
Epoch 137/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0586 - val_loss: 0.0743
Epoch 138/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0578 - val_loss: 0.0742
Epoch 139/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0572 - val_loss: 0.0747
Epoch 140/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0561 - val_loss: 0.0751
Epoch 141/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0501 - val_loss: 0.0756
Epoch 142/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0494 - val_loss: 0.0760
Epoch 143/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step - loss: 0.0515 - val_loss: 0.0756
Epoch 144/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 25ms/step - loss: 0.0508 - val_loss: 0.0751
Epoch 145/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0550 - val_loss: 0.0743
Epoch 146/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0547 - val_loss: 0.0734
Epoch 147/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0515 - val_loss: 0.0731
Epoch 148/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0506 - val_loss: 0.0739
Epoch 149/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0498 - val_loss: 0.0742
Epoch 150/150
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step - loss: 0.0522 - val_loss: 0.0739
<span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 132ms/step
RMSE (LSTM): 0.2718529560957655
MAPE (LSTM): 56.79%
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>e:\apps\anaconda3\envs\MLEnv\Lib\site-packages\sklearn\metrics\_regression.py:492: FutureWarning: &#39;squared&#39; is deprecated in version 1.4 and will be removed in 1.6. To calculate the root mean squared error, use the function&#39;root_mean_squared_error&#39;.
  warnings.warn(
</pre></div>
</div>
<img alt="_images/34d0af4e88eecbfd76c0fa494c42fe75331c863a77e75e827db5c84af06a87ce.png" src="_images/34d0af4e88eecbfd76c0fa494c42fe75331c863a77e75e827db5c84af06a87ce.png" />
</div>
</div>
</section>
<section id="ensemble-bagging">
<h3>4. Ensemble Bagging<a class="headerlink" href="#ensemble-bagging" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">VotingRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="kn">from</span> <span class="nn">xgboost</span> <span class="kn">import</span> <span class="n">XGBRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>

<span class="n">model_rf</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">model_xgb</span> <span class="o">=</span> <span class="n">XGBRegressor</span><span class="p">(</span><span class="n">objective</span><span class="o">=</span><span class="s1">&#39;reg:squarederror&#39;</span><span class="p">,</span> <span class="n">n_estimators</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
<span class="n">model_lr</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>

<span class="n">ensemble_model</span> <span class="o">=</span> <span class="n">VotingRegressor</span><span class="p">(</span><span class="n">estimators</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;rf&#39;</span><span class="p">,</span> <span class="n">model_rf</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;xgb&#39;</span><span class="p">,</span> <span class="n">model_xgb</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;lr&#39;</span><span class="p">,</span> <span class="n">model_lr</span><span class="p">)])</span>
<span class="n">ensemble_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>


<span class="n">y_pred_ensemble</span> <span class="o">=</span> <span class="n">ensemble_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">rmse_ensemble</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_ensemble</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">mape_ensemble</span> <span class="o">=</span> <span class="n">mean_absolute_percentage_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_ensemble</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;RMSE (Ensemble): </span><span class="si">{</span><span class="n">rmse_ensemble</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MAPE (Ensemble): </span><span class="si">{</span><span class="n">mape_ensemble</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>e:\apps\anaconda3\envs\MLEnv\Lib\site-packages\sklearn\ensemble\_voting.py:694: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RMSE (Ensemble): 0.32032225874777354
MAPE (Ensemble): 62.20%
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>e:\apps\anaconda3\envs\MLEnv\Lib\site-packages\sklearn\metrics\_regression.py:492: FutureWarning: &#39;squared&#39; is deprecated in version 1.4 and will be removed in 1.6. To calculate the root mean squared error, use the function&#39;root_mean_squared_error&#39;.
  warnings.warn(
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="kesimpulan">
<h1>Kesimpulan<a class="headerlink" href="#kesimpulan" title="Link to this heading">#</a></h1>
<section id="dikarenakan-keterbatasan-data-untuk-prediksi-maka-model-mengalami-overfitting-dan-tidak-bisa-memprediksi-dengan-akurasi-tinggi">
<h2>Dikarenakan keterbatasan data untuk prediksi, maka model mengalami overfitting dan tidak bisa memprediksi dengan akurasi tinggi<a class="headerlink" href="#dikarenakan-keterbatasan-data-untuk-prediksi-maka-model-mengalami-overfitting-dan-tidak-bisa-memprediksi-dengan-akurasi-tinggi" title="Link to this heading">#</a></h2>
<p>Maka hasil dari beberapa model sebagai berikut</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Model</p></th>
<th class="head"><p>RMSE</p></th>
<th class="head"><p>MAPE</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Linear</p></td>
<td><p>0.272465837501742</p></td>
<td><p>57.36%</p></td>
</tr>
<tr class="row-odd"><td><p>LSTM</p></td>
<td><p>0.2721217160029784</p></td>
<td><p>57.42%</p></td>
</tr>
<tr class="row-even"><td><p>Random Forest</p></td>
<td><p>0.3276478251299928</p></td>
<td><p>62.01%</p></td>
</tr>
<tr class="row-odd"><td><p>Ensemnble Bagging</p></td>
<td><p>0.32032225874777354</p></td>
<td><p>62.20 %</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="deployement">
<h1>Deployement<a class="headerlink" href="#deployement" title="Link to this heading">#</a></h1>
<p>MOdel terbaik yang diambil Linear Regression</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">joblib</span>

<span class="c1"># Menyimpan model yang sudah dilatih</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">model_lr</span><span class="p">,</span> <span class="s1">&#39;lr_model.joblib&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;lr_model.joblib&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="website">
<h1>Website<a class="headerlink" href="#website" title="Link to this heading">#</a></h1>
<p><a class="reference external" href="https://huggingface.co/spaces/ahmadnoval/PSD-rediksi-produksi-beras">https://huggingface.co/spaces/ahmadnoval/PSD-rediksi-produksi-beras</a></p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Tugas Akir Proyek Sains Data</p>
      </div>
    </a>
    <a class="right-next"
       href="Project2.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">PROYEK SAINS DATA PREDIKSI EMISI CO2 PER TAHUN NEGARA INDONESIA BERDASARKAN POLA WAKTU</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">PROYEK SAINS DATA PREDIKSI PRODUKSI PADI KOTA SURABAYA MENGGUNAKAN DATA CUACA UNTUK MENSTABILKAN KETAHANAN PANGAN</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bisnis-understanding">Bisnis Understanding</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pendahuluan">1. Pendahuluan</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rumusan-masalah">2. Rumusan Masalah</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tujuan-dan-manfaat">3. Tujuan dan Manfaat</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pembahasan">Pembahasan</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-collecting">Data Collecting</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-data-iklim">Read Data Iklim</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding">Data Understanding</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualiasi-data-iklim">Visualiasi Data iklim</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#missing-value-pada-data-iklim">Missing value pada data iklim</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prepocessing-dini-data-fitur">Prepocessing dini data fitur</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mencari-outlier-pada-data-fitur">Mencari Outlier Pada data fitur</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rerata-dan-modus">Rerata dan Modus</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-untuk-target">Data untuk Target</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#penggabungan-data-fitur-dan-data-object">Penggabungan data fitur dan data object</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-main">Data Main</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#seleksi-fitur-berdasarkan-korelasi">Seleksi fitur berdasarkan korelasi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi-data">Normalisasi data</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-modelling">Data Modelling</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#persiapan-data-train-dan-data-test">Persiapan data Train dan data Test</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model">Model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random-forest-regressor">1. Random Forest Regressor</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#linear-regression">2. Linear Regression</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lstm">3. LSTM</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ensemble-bagging">4. Ensemble Bagging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan">Kesimpulan</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dikarenakan-keterbatasan-data-untuk-prediksi-maka-model-mengalami-overfitting-dan-tidak-bisa-memprediksi-dengan-akurasi-tinggi">Dikarenakan keterbatasan data untuk prediksi, maka model mengalami overfitting dan tidak bisa memprediksi dengan akurasi tinggi</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deployement">Deployement</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#website">Website</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Ahmad Noval M
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>